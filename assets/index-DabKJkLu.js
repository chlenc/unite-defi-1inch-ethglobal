const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-DIO8IkJS.js","assets/_shortw_utils-DTLadjFC.js","assets/sha3-DG6CBcqs.js","assets/native-CrTKSWDz.js","assets/index-uJCF4F6V.js","assets/index-CiuAZOJU.css"])))=>i.map(i=>d[i]);
import{aI as fn,aJ as ln,aK as Sa,aL as Ba,aM as ka,aN as Qr,aO as Ma,aP as Es,m as Ts,_ as Us,ac as zs,aQ as zi,aR as Hi,aS as Vi,aT as Wi,aU as Ki,aV as Ji,aW as Zi,aX as Yi,aY as Qi,aZ as Xi,a_ as ec,a$ as tc,k as G,v as nc,r as sc,j as rc}from"./index-uJCF4F6V.js";import{B as E,g as Ge,A as Is,f as qe,t as Tt,k as se,b as ne,c as De,n as _,d as Sn,i as j,j as R,l as le,I as Ra,m as O,o as J,s as ge,p as bt,q as Hs,r as Fa,u as Na,v as Bn,w as $a,x as $e,y as It,z as Vs,C as q,D as k,E as B,F as de,G as X,H as ee,J as Xr,e as re,K as La,L as Ws,M as Mt,N as Xe,O as _t,P as Ks,Q as Js,R as At,S as Zs,T as kn,U as Ye,V as Mn,W as Oa,X as _s,Y as ja,Z as Ga,_ as qa,$ as Pt,a0 as Da,a1 as ac,a2 as oc,a3 as Ua,a4 as ic,a5 as za,a6 as pe,a7 as Ha,h as Rn,a as Ys,a8 as Qs,a9 as As,aa as Va,ab as Wa,ac as Ka,ad as Ja,ae as cc,af as uc,ag as dc,ah as fc,ai as lc,aj as pc,ak as hc,al as mc,am as yc,an as bc,ao as gc,ap as wc,aq as vc,ar as xc,as as Pc,at as Ec,au as Tc,av as Xt,aw as Ic,ax as _c,ay as Ac,az as Cc,aA as Sc,aB as Bc,aC as kc,aD as Mc,aE as ea,aF as Rc,aG as Fc}from"./hashMessage-BkOQn_zG.js";import{H as Nc,s as $c}from"./_shortw_utils-DTLadjFC.js";import{B as ae,o as Za,p as Lc,v as Oc,b as Xs,j as er,e as et,f as V,c as he,q as Ya,r as Ct,u as Qa,I as jc,w as St,x as Gc,y as qc}from"./Solidity-C6tPJxTr.js";import{secp256k1 as Fn}from"./secp256k1-DIO8IkJS.js";import{w as Dc,h as en}from"./sha3-DG6CBcqs.js";function Uc(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function zc(e){let t;if(typeof e=="string")t=fn(e,{modifiers:ln});else{const n=Sa(e),s=e.length;for(let r=0;r<s;r++){const a=e[r];if(!Ba(a)){t=fn(a,{modifiers:ln,structs:n});break}}}if(!t)throw new ka({param:e});return t}function Hc(e){const t=[];if(typeof e=="string"){const n=Qr(e),s=n.length;for(let r=0;r<s;r++)t.push(fn(n[r],{modifiers:ln}))}else{const n=Sa(e),s=e.length;for(let r=0;r<s;r++){const a=e[r];if(Ba(a))continue;const o=Qr(a),i=o.length;for(let c=0;c<i;c++)t.push(fn(o[c],{modifiers:ln,structs:n}))}}if(t.length===0)throw new Ma({params:e});return t}const Vc=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Xa=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Wc=Xa.map(e=>(9*e+5)%16);let tr=[Xa],nr=[Wc];for(let e=0;e<4;e++)for(let t of[tr,nr])t.push(t[e].map(n=>Vc[n]));const eo=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Kc=tr.map((e,t)=>e.map(n=>eo[t][n])),Jc=nr.map((e,t)=>e.map(n=>eo[t][n])),Zc=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Yc=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function ta(e,t,n,s){return e===0?t^n^s:e===1?t&n|~t&s:e===2?(t|~n)^s:e===3?t&s|n&~s:t^(n|~s)}const tn=new Uint32Array(16);class Qc extends Nc{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:s,h3:r,h4:a}=this;return[t,n,s,r,a]}set(t,n,s,r,a){this.h0=t|0,this.h1=n|0,this.h2=s|0,this.h3=r|0,this.h4=a|0}process(t,n){for(let p=0;p<16;p++,n+=4)tn[p]=t.getUint32(n,!0);let s=this.h0|0,r=s,a=this.h1|0,o=a,i=this.h2|0,c=i,u=this.h3|0,f=u,d=this.h4|0,l=d;for(let p=0;p<5;p++){const h=4-p,m=Zc[p],y=Yc[p],b=tr[p],g=nr[p],w=Kc[p],P=Jc[p];for(let x=0;x<16;x++){const v=en(s+ta(p,a,i,u)+tn[b[x]]+m,w[x])+d|0;s=d,d=u,u=en(i,10)|0,i=a,a=v}for(let x=0;x<16;x++){const v=en(r+ta(h,o,c,f)+tn[g[x]]+y,P[x])+l|0;r=l,l=f,f=en(c,10)|0,c=o,o=v}}this.set(this.h1+i+f|0,this.h2+u+l|0,this.h3+d+r|0,this.h4+s+o|0,this.h0+a+c|0)}roundClean(){tn.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Xc=Dc(()=>new Qc);class eu extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const tu={checksum:new eu(8192)},ds=tu.checksum,nu=/^0x[a-fA-F0-9]{40}$/;function Nn(e,t={}){const{strict:n=!0}=t;if(!nu.test(e))throw new na({address:e,cause:new ru});if(n){if(e.toLowerCase()===e)return;if(su(e)!==e)throw new na({address:e,cause:new au})}}function su(e){if(ds.has(e))return ds.get(e);Nn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Za(Lc(t),{as:"Bytes"}),s=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(n[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const r=`0x${s.join("")}`;return ds.set(e,r),r}function Cs(e,t={}){const{strict:n=!0}=t??{};try{return Nn(e,{strict:n}),!0}catch{return!1}}class na extends ae{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ru extends ae{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class au extends ae{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Ss(e){let t=!0,n="",s=0,r="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&s++,i===")"&&s--,!!t){if(s===0){if(i===" "&&["event","function","error",""].includes(r))r="";else if(r+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=i,n+=i}}if(!a)throw new ae("Unable to normalize signature.");return r}function Bs(e,t){const n=typeof e,s=t.type;switch(s){case"address":return Cs(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,a)=>Bs(Object.values(e)[a],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>Bs(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function to(e,t,n){for(const s in e){const r=e[s],a=t[s];if(r.type==="tuple"&&a.type==="tuple"&&"components"in r&&"components"in a)return to(r.components,a.components,n[s]);const o=[r.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Cs(n[s],{strict:!1}):o.includes("address")&&o.includes("bytes")?Cs(n[s],{strict:!1}):!1)return o}}function no(e,t={}){const{prepare:n=!0}=t,s=Array.isArray(e)?Es(e):typeof e=="string"?Es(e):e;return{...s,...n?{hash:Ze(s)}:{}}}function ou(e,t,n){const{args:s=[],prepare:r=!0}=n??{},a=Oc(t,{strict:!1}),o=e.filter(u=>a?u.type==="function"||u.type==="error"?so(u)===Xs(t,0,4):u.type==="event"?Ze(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new ks({name:t});if(o.length===1)return{...o[0],...r?{hash:Ze(o[0])}:{}};let i;for(const u of o){if(!("inputs"in u))continue;if(!s||s.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...r?{hash:Ze(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==s.length)continue;if(s.every((d,l)=>{const p="inputs"in u&&u.inputs[l];return p?Bs(d,p):!1})){if(i&&"inputs"in i&&i.inputs){const d=to(u.inputs,i.inputs,s);if(d)throw new cu({abiItem:u,type:d[0]},{abiItem:i,type:d[1]})}i=u}}const c=(()=>{if(i)return i;const[u,...f]=o;return{...u,overloads:f}})();if(!c)throw new ks({name:t});return{...c,...r?{hash:Ze(c)}:{}}}function so(e){return Xs(Ze(e),0,4)}function iu(e){const t=typeof e=="string"?e:Ts(e);return Ss(t)}function Ze(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Za(er(iu(e)))}class cu extends ae{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Ss(Ts(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Ss(Ts(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class ks extends ae{constructor({name:t,data:n,type:s="item"}){const r=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${s}${r} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function uu({checksumAddress:e,parameters:t,values:n}){const s=[];for(let r=0;r<t.length;r++)s.push(sr({checksumAddress:e,parameter:t[r],value:n[r]}));return s}function sr({checksumAddress:e=!1,parameter:t,value:n}){const s=t,r=bu(s.type);if(r){const[a,o]=r;return fu(n,{checksumAddress:e,length:a,parameter:{...s,type:o}})}if(s.type==="tuple")return yu(n,{checksumAddress:e,parameter:s});if(s.type==="address")return du(n,{checksum:e});if(s.type==="bool")return pu(n);if(s.type.startsWith("uint")||s.type.startsWith("int")){const a=s.type.startsWith("int"),[,,o="256"]=Ya.exec(s.type)??[];return hu(n,{signed:a,size:Number(o)})}if(s.type.startsWith("bytes"))return lu(n,{type:s.type});if(s.type==="string")return mu(n);throw new io(s.type)}function rr(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=et(i)}const n=[],s=[];let r=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(V(t+r,{size:32})),s.push(i),r+=et(i)):n.push(i)}return he(...n,...s)}function du(e,t){const{checksum:n=!1}=t;return Nn(e,{strict:n}),{dynamic:!1,encoded:Ct(e.toLowerCase())}}function fu(e,t){const{checksumAddress:n,length:s,parameter:r}=t,a=s===null;if(!Array.isArray(e))throw new wu(e);if(!a&&e.length!==s)throw new gu({expectedLength:s,givenLength:e.length,type:`${r.type}[${s}]`});let o=!1;const i=[];for(let c=0;c<e.length;c++){const u=sr({checksumAddress:n,parameter:r,value:e[c]});u.dynamic&&(o=!0),i.push(u)}if(a||o){const c=rr(i);if(a){const u=V(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?he(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:he(...i.map(({encoded:c})=>c))}}function lu(e,{type:t}){const[,n]=t.split("bytes"),s=et(e);if(!n){let r=e;return s%32!==0&&(r=St(r,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:he(Ct(V(s,{size:32})),r)}}if(s!==Number.parseInt(n))throw new ao({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:St(e)}}function pu(e){if(typeof e!="boolean")throw new ae(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ct(Qa(e))}}function hu(e,{signed:t,size:n}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new jc({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:V(e,{size:32,signed:t})}}function mu(e){const t=er(e),n=Math.ceil(et(t)/32),s=[];for(let r=0;r<n;r++)s.push(St(Xs(t,r*32,(r+1)*32)));return{dynamic:!0,encoded:he(St(V(et(t),{size:32})),...s)}}function yu(e,t){const{checksumAddress:n,parameter:s}=t;let r=!1;const a=[];for(let o=0;o<s.components.length;o++){const i=s.components[o],c=Array.isArray(e)?o:i.name,u=sr({checksumAddress:n,parameter:i,value:e[c]});a.push(u),u.dynamic&&(r=!0)}return{dynamic:r,encoded:r?rr(a):he(...a.map(({encoded:o})=>o))}}function bu(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ro(e,t,n){const{checksumAddress:s=!1}={};if(e.length!==t.length)throw new oo({expectedLength:e.length,givenLength:t.length});const r=uu({checksumAddress:s,parameters:e,values:t}),a=rr(r);return a.length===0?"0x":a}function Ms(e,t){if(e.length!==t.length)throw new oo({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],a=t[s];n.push(Ms.encode(r,a))}return he(...n)}(function(e){function t(n,s,r=!1){if(n==="address"){const c=s;return Nn(c),Ct(c.toLowerCase(),r?32:0)}if(n==="string")return er(s);if(n==="bytes")return s;if(n==="bool")return Ct(Qa(s),r?32:1);const a=n.match(Ya);if(a){const[c,u,f="256"]=a,d=Number.parseInt(f)/8;return V(s,{size:r?32:d,signed:u==="int"})}const o=n.match(Gc);if(o){const[c,u]=o;if(Number.parseInt(u)!==(s.length-2)/2)throw new ao({expectedSize:Number.parseInt(u),value:s});return St(s,r?32:0)}const i=n.match(qc);if(i&&Array.isArray(s)){const[c,u]=i,f=[];for(let d=0;d<s.length;d++)f.push(t(u,s[d],!0));return f.length===0?"0x":he(...f)}throw new io(n)}e.encode=t})(Ms||(Ms={}));class gu extends ae{constructor({expectedLength:t,givenLength:n,type:s}){super(`Array length mismatch for type \`${s}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class ao extends ae{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${et(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class oo extends ae{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class wu extends ae{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class io extends ae{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function vu(e,t){var r;const{bytecode:n,args:s}=t;return he(n,(r=e.inputs)!=null&&r.length&&(s!=null&&s.length)?ro(e.inputs,s):"0x")}function xu(e){return no(e)}function Pu(e,...t){const{overloads:n}=e,s=n?Eu([e,...n],e.name,{args:t[0]}):e,r=Tu(s),a=t.length>0?ro(s.inputs,t[0]):void 0;return a?he(r,a):r}function We(e,t={}){return no(e,t)}function Eu(e,t,n){const s=ou(e,t,n);if(s.type!=="function")throw new ks({name:t,type:"function"});return s}function Tu(e){return so(e)}function Iu(e){return{address:e.address,amount:V(e.amount),index:V(e.index),validatorIndex:V(e.validatorIndex)}}function _u(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:V(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:V(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:V(e.gasLimit)},...typeof e.number=="bigint"&&{number:V(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:V(e.prevRandao)},...typeof e.time=="bigint"&&{time:V(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Iu)}}}function C(e,t,n){const s=e[t.name];if(typeof s=="function")return s;const r=e[n];return typeof r=="function"?r:a=>t(e,a)}class co extends E{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const sa="/docs/contract/encodeEventTopics";function gt(e){var c;const{abi:t,eventName:n,args:s}=e;let r=t[0];if(n){const u=Ge({abi:t,name:n});if(!u)throw new Is(n,{docsPath:sa});r=u}if(r.type!=="event")throw new Is(void 0,{docsPath:sa});const a=qe(r),o=Tt(a);let i=[];if(s&&"inputs"in r){const u=(c=r.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(s)?s:Object.values(s).length>0?(u==null?void 0:u.map(d=>s[d.name]))??[]:[];f.length>0&&(i=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((p,h)=>ra({param:d,value:f[l][h]})):typeof f[l]<"u"&&f[l]!==null?ra({param:d,value:f[l]}):null))??[])}return[o,...i]}function ra({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return se(ne(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new co(e.type);return De([e],[t])}function $n(e,{method:t}){var s,r;const n={};return e.transport.type==="fallback"&&((r=(s=e.transport).onResponse)==null||r.call(s,({method:a,response:o,status:i,transport:c})=>{i==="success"&&t===a&&(n[o]=c.request)})),a=>n[a]||e.request}async function ar(e,t){const{address:n,abi:s,args:r,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=$n(e,{method:"eth_newFilter"}),f=a?gt({abi:s,args:r,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?_(o):o,toBlock:typeof c=="bigint"?_(c):c,topics:f}]});return{abi:s,args:r,eventName:a,id:d,request:u(d),strict:!!i,type:"event"}}function z(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const uo={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Au={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Cu={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class aa extends E{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class fo extends E{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Su extends E{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Bu={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Su({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new fo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new aa({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new aa({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function tt(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Bu);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function ku(e,t){const n=typeof t=="string"?{to:t}:t,s=n.to;return s==="number"?ie(e,n):s==="bigint"?or(e,n):s==="boolean"?ir(e,n):s==="string"?cr(e,n):j(e,n)}function or(e,t={}){typeof t.size<"u"&&Sn(e,{size:t.size});const n=j(e,t);return R(n,t)}function ir(e,t={}){let n=e;if(typeof t.size<"u"&&(Sn(n,{size:t.size}),n=le(n)),n.length>1||n[0]>1)throw new Ra(n);return!!n[0]}function ie(e,t={}){typeof t.size<"u"&&Sn(e,{size:t.size});const n=j(e,t);return O(n,t)}function cr(e,t={}){let n=e;return typeof t.size<"u"&&(Sn(n,{size:t.size}),n=le(n,{dir:"right"})),new TextDecoder().decode(n)}function Me(e,t){const n=typeof t=="string"?J(t):t,s=tt(n);if(ge(n)===0&&e.length>0)throw new bt;if(ge(t)&&ge(t)<32)throw new Hs({data:typeof t=="string"?t:j(t),params:e,size:ge(t)});let r=0;const a=[];for(let o=0;o<e.length;++o){const i=e[o];s.setPosition(r);const[c,u]=Qe(s,i,{staticPosition:0});r+=u,a.push(c)}return a}function Qe(e,t,{staticPosition:n}){const s=Fa(t.type);if(s){const[r,a]=s;return Ru(e,{...t,type:a},{length:r,staticPosition:n})}if(t.type==="tuple")return Lu(e,t,{staticPosition:n});if(t.type==="address")return Mu(e);if(t.type==="bool")return Fu(e);if(t.type.startsWith("bytes"))return Nu(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return $u(e,t);if(t.type==="string")return Ou(e,{staticPosition:n});throw new Na(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const oa=32,Rs=32;function Mu(e){const t=e.readBytes(32);return[Bn(j($a(t,-20))),32]}function Ru(e,t,{length:n,staticPosition:s}){if(!n){const o=ie(e.readBytes(Rs)),i=s+o,c=i+oa;e.setPosition(i);const u=ie(e.readBytes(oa)),f=Bt(t);let d=0;const l=[];for(let p=0;p<u;++p){e.setPosition(c+(f?p*32:d));const[h,m]=Qe(e,t,{staticPosition:c});d+=m,l.push(h)}return e.setPosition(s+32),[l,32]}if(Bt(t)){const o=ie(e.readBytes(Rs)),i=s+o,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[f]=Qe(e,t,{staticPosition:i});c.push(f)}return e.setPosition(s+32),[c,32]}let r=0;const a=[];for(let o=0;o<n;++o){const[i,c]=Qe(e,t,{staticPosition:s+r});r+=c,a.push(i)}return[a,r]}function Fu(e){return[ir(e.readBytes(32),{size:32}),32]}function Nu(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const o=ie(e.readBytes(32));e.setPosition(n+o);const i=ie(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[j(c),32]}return[j(e.readBytes(Number.parseInt(r),32)),32]}function $u(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256"),r=e.readBytes(32);return[s>48?or(r,{signed:n}):ie(r,{signed:n}),32]}function Lu(e,t,{staticPosition:n}){const s=t.components.length===0||t.components.some(({name:o})=>!o),r=s?[]:{};let a=0;if(Bt(t)){const o=ie(e.readBytes(Rs)),i=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+a);const[f,d]=Qe(e,u,{staticPosition:i});a+=d,r[s?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[r,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=Qe(e,i,{staticPosition:n});r[s?o:i==null?void 0:i.name]=c,a+=u}return[r,a]}function Ou(e,{staticPosition:t}){const n=ie(e.readBytes(32)),s=t+n;e.setPosition(s);const r=ie(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const a=e.readBytes(r,32),o=cr(le(a));return e.setPosition(t+32),[o,32]}function Bt(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(Bt);const n=Fa(e.type);return!!(n&&Bt({...e,type:n[1]}))}function ur(e){const{abi:t,data:n}=e,s=$e(n,0,4);if(s==="0x")throw new bt;const a=[...t||[],Au,Cu].find(o=>o.type==="error"&&s===It(qe(o)));if(!a)throw new Vs(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?Me(a.inputs,$e(n,4)):void 0,errorName:a.name}}function lo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((r,a)=>`${s&&r.name?`${r.name}: `:""}${typeof t[a]=="object"?q(t[a]):t[a]}`).join(", ")})`}const dr={gwei:9,wei:18},fr={ether:-9,wei:9},ju={ether:-18,gwei:-9};function lr(e,t){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(t,"0");let[r,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${s?"-":""}${r||"0"}${a?`.${a}`:""}`}function Ln(e,t="wei"){return lr(e,dr[t])}function W(e,t="wei"){return lr(e,fr[t])}class po extends E{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ho extends E{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ia(e){return e.reduce((t,{slot:n,value:s})=>`${t}        ${n}: ${s}
`,"")}function Gu(e){return e.reduce((t,{address:n,...s})=>{let r=`${t}    ${n}:
`;return s.nonce&&(r+=`      nonce: ${s.nonce}
`),s.balance&&(r+=`      balance: ${s.balance}
`),s.code&&(r+=`      code: ${s.code}
`),s.state&&(r+=`      state:
`,r+=ia(s.state)),s.stateDiff&&(r+=`      stateDiff:
`,r+=ia(s.stateDiff)),r},`  State Override:
`).slice(0,-1)}function Rt(e){const t=Object.entries(e).map(([s,r])=>r===void 0||r===!1?null:[s,r]).filter(Boolean),n=t.reduce((s,[r])=>Math.max(s,r.length),0);return t.map(([s,r])=>`  ${`${s}:`.padEnd(n+1)}  ${r}`).join(`
`)}class mo extends E{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class pr extends E{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class yo extends E{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Rt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class bo extends E{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class wt extends E{constructor({attributes:t,serializedTransaction:n,type:s}){const r=Object.entries(t).map(([a,o])=>typeof o>"u"?a:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${s}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,r.length>0?`Missing Attributes: ${r.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=s}}class go extends E{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class wo extends E{constructor(t,{account:n,docsPath:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var h;const p=Rt({chain:r&&`${r==null?void 0:r.name} (id: ${r==null?void 0:r.id})`,from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ln(l)} ${((h=r==null?void 0:r.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${W(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${W(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${W(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class hr extends E{constructor({blockHash:t,blockNumber:n,blockTag:s,hash:r,index:a}){let o="Transaction";s&&a!==void 0&&(o=`Transaction at block time "${s}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),r&&(o=`Transaction with hash "${r}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class mr extends E{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class vo extends E{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const qu=e=>e,Ue=e=>e;class yr extends E{constructor(t,{account:n,docsPath:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:p}){var y;const h=n?z(n):void 0;let m=Rt({from:h==null?void 0:h.address,to:d,value:typeof l<"u"&&`${Ln(l)} ${((y=r==null?void 0:r.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${W(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${W(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${W(u)} gwei`,nonce:f});p&&(m+=`
${Gu(p)}`),super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class xo extends E{constructor(t,{abi:n,args:s,contractAddress:r,docsPath:a,functionName:o,sender:i}){const c=Ge({abi:n,args:s,name:o}),u=c?lo({abiItem:c,args:s,includeFunctionName:!1,includeName:!1}):void 0,f=c?qe(c,{includeName:!0}):void 0,d=Rt({address:r&&qu(r),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=s,this.cause=t,this.contractAddress=r,this.functionName=o,this.sender=i}}class pn extends E{constructor({abi:t,data:n,functionName:s,message:r}){let a,o,i,c;if(n&&n!=="0x")try{o=ur({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=o;if(d==="Error")c=l[0];else if(d==="Panic"){const[p]=l;c=uo[p]}else{const p=f?qe(f,{includeName:!0}):void 0,h=f&&l?lo({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(f){a=f}else r&&(c=r);let u;a instanceof Vs&&(u=a.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${s}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${s}" reverted.`,{cause:a,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class Po extends E{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Eo extends E{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Ft extends E{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Ie extends E{constructor({body:t,cause:n,details:s,headers:r,status:a,url:o}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[a&&`Status: ${a}`,`URL: ${Ue(o)}`,t&&`Request body: ${q(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=a,this.url=o}}class Fs extends E{constructor({body:t,cause:n,details:s,url:r}){super("WebSocket request failed.",{cause:n,details:s,metaMessages:[`URL: ${Ue(r)}`,t&&`Request body: ${q(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class Nt extends E{constructor({body:t,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ue(s)}`,`Request body: ${q(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class kt extends E{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${Ue(t)}`].filter(Boolean),name:"SocketClosedError"})}}class hn extends E{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ue(n)}`,`Request body: ${q(t)}`],name:"TimeoutError"})}}const Du=-1;class K extends E{constructor(t,{code:n,docsPath:s,metaMessages:r,name:a,shortMessage:o}){super(o,{cause:t,docsPath:s,metaMessages:r||(t==null?void 0:t.metaMessages),name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||t.name,this.code=t instanceof Nt?t.code:n??Du}}let ze=class extends K{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class nt extends K{constructor(t){super(t,{code:nt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class st extends K{constructor(t){super(t,{code:st.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(st,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class rt extends K{constructor(t,{method:n}={}){super(t,{code:rt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class at extends K{constructor(t){super(t,{code:at.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(at,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ae extends K{constructor(t){super(t,{code:Ae.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ce extends K{constructor(t){super(t,{code:Ce.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ot extends K{constructor(t){super(t,{code:ot.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class it extends K{constructor(t){super(t,{code:it.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Le extends K{constructor(t){super(t,{code:Le.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Le,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ee extends K{constructor(t,{method:n}={}){super(t,{code:Ee.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Oe extends K{constructor(t){super(t,{code:Oe.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ct extends K{constructor(t){super(t,{code:ct.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class _e extends ze{constructor(t){super(t,{code:_e.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(_e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ut extends ze{constructor(t){super(t,{code:ut.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class dt extends ze{constructor(t,{method:n}={}){super(t,{code:dt.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ft extends ze{constructor(t){super(t,{code:ft.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class lt extends ze{constructor(t){super(t,{code:lt.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class pt extends ze{constructor(t){super(t,{code:pt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class To extends K{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Uu=3;function Se(e,{abi:t,address:n,args:s,docsPath:r,functionName:a,sender:o}){const i=e instanceof Ft?e:e instanceof E?e.walk(h=>"data"in h)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=i,p=e instanceof bt?new Po({functionName:a}):[Uu,Ae.code].includes(c)&&(u||f||d||l)?new pn({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:i instanceof Nt?f:l??d}):e;return new xo(p,{abi:t,args:s,contractAddress:n,docsPath:r,functionName:a,sender:o})}function zu(e){const t=se(`0x${e.substring(4)}`).substring(26);return Bn(`0x${t}`)}async function Io({hash:e,signature:t}){const n=k(e)?e:B(e),{secp256k1:s}=await Us(async()=>{const{secp256k1:o}=await import("./secp256k1-DIO8IkJS.js");return{secp256k1:o}},__vite__mapDeps([0,1,2]));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,p=Number(l??d),h=ca(p);return new s.Signature(R(u),R(f)).addRecoveryBit(h)}const o=k(t)?t:B(t),i=O(`0x${o.slice(130)}`),c=ca(i);return s.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ca(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function He({hash:e,signature:t}){return zu(await Io({hash:e,signature:t}))}function ce(e,t="hex"){const n=_o(e),s=tt(new Uint8Array(n.length));return n.encode(s),t==="hex"?j(s.bytes):s.bytes}function Hu(e,t="bytes"){return ce(e,t)}function Vu(e,t="hex"){return ce(e,t)}function _o(e){return Array.isArray(e)?Wu(e.map(t=>_o(t))):Ku(e)}function Wu(e){const t=e.reduce((r,a)=>r+a.length,0),n=Ao(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),n===1?r.pushUint8(t):n===2?r.pushUint16(t):n===3?r.pushUint24(t):r.pushUint32(t));for(const{encode:a}of e)a(r)}}}function Ku(e){const t=typeof e=="string"?J(e):e,n=Ao(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(r){t.length===1&&t[0]<128?r.pushBytes(t):t.length<=55?(r.pushByte(128+t.length),r.pushBytes(t)):(r.pushByte(183+n),n===1?r.pushUint8(t.length):n===2?r.pushUint16(t.length):n===3?r.pushUint24(t.length):r.pushUint32(t.length),r.pushBytes(t))}}}function Ao(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new E("Length is too large.")}function Ju(e){const{chainId:t,contractAddress:n,nonce:s,to:r}=e,a=se(de(["0x05",ce([t?_(t):"0x",n,s?_(s):"0x"])]));return r==="bytes"?J(a):a}async function Co(e){const{authorization:t,signature:n}=e;return He({hash:Ju(t),signature:n??t})}class So extends E{constructor(t,{account:n,docsPath:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var h;const p=Rt({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ln(l)} ${((h=r==null?void 0:r.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${W(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${W(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${W(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Te extends E{constructor({cause:t,message:n}={}){var r;const s=(r=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:r.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Te,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Te,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Be extends E{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${W(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Be,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class mn extends E{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${W(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(mn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class yn extends E{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class bn extends E{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(bn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class gn extends E{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(gn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class wn extends E{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(wn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class vn extends E{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(vn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class xn extends E{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(xn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Pn extends E{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Pn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ht extends E{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${W(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${W(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(ht,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class vt extends E{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function On(e,t){const n=(e.details||"").toLowerCase(),s=e instanceof E?e.walk(r=>(r==null?void 0:r.code)===Te.code):e;return s instanceof E?new Te({cause:e,message:s.details}):Te.nodeMessage.test(n)?new Te({cause:e,message:e.details}):Be.nodeMessage.test(n)?new Be({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):mn.nodeMessage.test(n)?new mn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):yn.nodeMessage.test(n)?new yn({cause:e,nonce:t==null?void 0:t.nonce}):bn.nodeMessage.test(n)?new bn({cause:e,nonce:t==null?void 0:t.nonce}):gn.nodeMessage.test(n)?new gn({cause:e,nonce:t==null?void 0:t.nonce}):wn.nodeMessage.test(n)?new wn({cause:e}):vn.nodeMessage.test(n)?new vn({cause:e,gas:t==null?void 0:t.gas}):xn.nodeMessage.test(n)?new xn({cause:e,gas:t==null?void 0:t.gas}):Pn.nodeMessage.test(n)?new Pn({cause:e}):ht.nodeMessage.test(n)?new ht({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new vt({cause:e})}function Zu(e,{docsPath:t,...n}){const s=(()=>{const r=On(e,n);return r instanceof vt?e:r})();return new So(s,{docsPath:t,...n})}function $t(e,{format:t}){if(!t)return{};const n={};function s(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&s(a[i])}const r=t(e||{});return s(r),n}function jn(e,t){return({exclude:n,format:s})=>({exclude:n,format:r=>{const a=t(r);if(n)for(const o of n)delete a[o];return{...a,...s(r)}},type:e})}const Bo={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function we(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Qu(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>j(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=_(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=_(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=_(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=_(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=_(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=_(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Bo[e.type]),typeof e.value<"u"&&(t.value=_(e.value)),t}const Yu=jn("transactionRequest",we);function Qu(e){return e.map(t=>({address:t.contractAddress,r:t.r?_(BigInt(t.r)):t.r,s:t.s?_(BigInt(t.s)):t.s,chainId:_(t.chainId),nonce:_(t.nonce),...typeof t.yParity<"u"?{yParity:_(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:_(t.v)}:{}}))}function ua(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:s})=>{if(n.length!==66)throw new Xr({size:n.length,targetSize:66,type:"hex"});if(s.length!==66)throw new Xr({size:s.length,targetSize:66,type:"hex"});return t[n]=s,t},{})}function Xu(e){const{balance:t,nonce:n,state:s,stateDiff:r,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=_(t)),n!==void 0&&(o.nonce=_(n)),s!==void 0&&(o.state=ua(s)),r!==void 0){if(o.state)throw new ho;o.stateDiff=ua(r)}return o}function br(e){if(!e)return;const t={};for(const{address:n,...s}of e){if(!X(n,{strict:!1}))throw new ee({address:n});if(t[n])throw new po({address:n});t[n]=Xu(s)}return t}const ed=2n**(8n-1n)-1n,td=2n**(16n-1n)-1n,nd=2n**(24n-1n)-1n,sd=2n**(32n-1n)-1n,rd=2n**(40n-1n)-1n,ad=2n**(48n-1n)-1n,od=2n**(56n-1n)-1n,id=2n**(64n-1n)-1n,cd=2n**(72n-1n)-1n,ud=2n**(80n-1n)-1n,dd=2n**(88n-1n)-1n,fd=2n**(96n-1n)-1n,ld=2n**(104n-1n)-1n,pd=2n**(112n-1n)-1n,hd=2n**(120n-1n)-1n,md=2n**(128n-1n)-1n,yd=2n**(136n-1n)-1n,bd=2n**(144n-1n)-1n,gd=2n**(152n-1n)-1n,wd=2n**(160n-1n)-1n,vd=2n**(168n-1n)-1n,xd=2n**(176n-1n)-1n,Pd=2n**(184n-1n)-1n,Ed=2n**(192n-1n)-1n,Td=2n**(200n-1n)-1n,Id=2n**(208n-1n)-1n,_d=2n**(216n-1n)-1n,Ad=2n**(224n-1n)-1n,Cd=2n**(232n-1n)-1n,Sd=2n**(240n-1n)-1n,Bd=2n**(248n-1n)-1n,kd=2n**(256n-1n)-1n,Md=-(2n**(8n-1n)),Rd=-(2n**(16n-1n)),Fd=-(2n**(24n-1n)),Nd=-(2n**(32n-1n)),$d=-(2n**(40n-1n)),Ld=-(2n**(48n-1n)),Od=-(2n**(56n-1n)),jd=-(2n**(64n-1n)),Gd=-(2n**(72n-1n)),qd=-(2n**(80n-1n)),Dd=-(2n**(88n-1n)),Ud=-(2n**(96n-1n)),zd=-(2n**(104n-1n)),Hd=-(2n**(112n-1n)),Vd=-(2n**(120n-1n)),Wd=-(2n**(128n-1n)),Kd=-(2n**(136n-1n)),Jd=-(2n**(144n-1n)),Zd=-(2n**(152n-1n)),Yd=-(2n**(160n-1n)),Qd=-(2n**(168n-1n)),Xd=-(2n**(176n-1n)),ef=-(2n**(184n-1n)),tf=-(2n**(192n-1n)),nf=-(2n**(200n-1n)),sf=-(2n**(208n-1n)),rf=-(2n**(216n-1n)),af=-(2n**(224n-1n)),of=-(2n**(232n-1n)),cf=-(2n**(240n-1n)),uf=-(2n**(248n-1n)),df=-(2n**(256n-1n)),ff=2n**8n-1n,lf=2n**16n-1n,pf=2n**24n-1n,hf=2n**32n-1n,mf=2n**40n-1n,yf=2n**48n-1n,bf=2n**56n-1n,gf=2n**64n-1n,wf=2n**72n-1n,vf=2n**80n-1n,xf=2n**88n-1n,Pf=2n**96n-1n,Ef=2n**104n-1n,Tf=2n**112n-1n,If=2n**120n-1n,_f=2n**128n-1n,Af=2n**136n-1n,Cf=2n**144n-1n,Sf=2n**152n-1n,Bf=2n**160n-1n,kf=2n**168n-1n,Mf=2n**176n-1n,Rf=2n**184n-1n,Ff=2n**192n-1n,Nf=2n**200n-1n,$f=2n**208n-1n,Lf=2n**216n-1n,Of=2n**224n-1n,jf=2n**232n-1n,Gf=2n**240n-1n,qf=2n**248n-1n,Lt=2n**256n-1n;function Re(e){const{account:t,gasPrice:n,maxFeePerGas:s,maxPriorityFeePerGas:r,to:a}=e,o=t?z(t):void 0;if(o&&!X(o.address))throw new ee({address:o.address});if(a&&!X(a))throw new ee({address:a});if(typeof n<"u"&&(typeof s<"u"||typeof r<"u"))throw new mo;if(s&&s>Lt)throw new Be({maxFeePerGas:s});if(r&&s&&r>s)throw new ht({maxFeePerGas:s,maxPriorityFeePerGas:r})}class ko extends E{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Gn extends E{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Mo extends E{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${W(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class gr extends E{constructor({blockHash:t,blockNumber:n}){let s="Block";t&&(s=`Block at hash "${t}"`),n&&(s=`Block at number "${n}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}const wr={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function qn(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?O(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?O(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?wr[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Uf(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const Df=jn("transaction",qn);function Uf(e){return e.map(t=>({contractAddress:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Dn(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:qn(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const zf=jn("block",Dn);async function fe(e,{blockHash:t,blockNumber:n,blockTag:s,includeTransactions:r}={}){var f,d,l;const a=s??"latest",o=r??!1,i=n!==void 0?_(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||a,o]},{dedupe:!!i}),!c)throw new gr({blockHash:t,blockNumber:n});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.block)==null?void 0:l.format)||Dn)(c)}async function vr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Hf(e,t){return Ro(e,t)}async function Ro(e,t){var a,o;const{block:n,chain:s=e.chain,request:r}=t||{};try{const i=((a=s==null?void 0:s.fees)==null?void 0:a.maxPriorityFeePerGas)??((o=s==null?void 0:s.fees)==null?void 0:o.defaultPriorityFee);if(typeof i=="function"){const u=n||await C(e,fe,"getBlock")({}),f=await i({block:u,client:e,request:r});if(f===null)throw new Error;return f}if(typeof i<"u")return i;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return R(c)}catch{const[i,c]=await Promise.all([n?Promise.resolve(n):C(e,fe,"getBlock")({}),C(e,vr,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Gn;const u=c-i.baseFeePerGas;return u<0n?0n:u}}async function Vf(e,t){return Ns(e,t)}async function Ns(e,t){var l,p;const{block:n,chain:s=e.chain,request:r,type:a="eip1559"}=t||{},o=await(async()=>{var h,m;return typeof((h=s==null?void 0:s.fees)==null?void 0:h.baseFeeMultiplier)=="function"?s.fees.baseFeeMultiplier({block:n,client:e,request:r}):((m=s==null?void 0:s.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new ko;const c=10**(((l=o.toString().split(".")[1])==null?void 0:l.length)??0),u=h=>h*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await C(e,fe,"getBlock")({});if(typeof((p=s==null?void 0:s.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const h=await s.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:r,type:a});if(h!==null)return h}if(a==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Gn;const h=typeof(r==null?void 0:r.maxPriorityFeePerGas)=="bigint"?r.maxPriorityFeePerGas:await Ro(e,{block:f,chain:s,request:r}),m=u(f.baseFeePerGas);return{maxFeePerGas:(r==null?void 0:r.maxFeePerGas)??m+h,maxPriorityFeePerGas:h}}return{gasPrice:(r==null?void 0:r.gasPrice)??u(await C(e,vr,"getGasPrice")({}))}}async function xr(e,{address:t,blockTag:n="latest",blockNumber:s}){const r=await e.request({method:"eth_getTransactionCount",params:[t,s?_(s):n]},{dedupe:!!s});return O(r)}function Un(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(a=>J(a)):e.blobs,r=[];for(const a of s)r.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?r:r.map(a=>j(a))}function zn(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>J(o)):e.blobs,r=typeof e.commitments[0]=="string"?e.commitments.map(o=>J(o)):e.commitments,a=[];for(let o=0;o<s.length;o++){const i=s[o],c=r[o];a.push(Uint8Array.from(t.computeBlobKzgProof(i,c)))}return n==="bytes"?a:a.map(o=>j(o))}function Fo(e,t){const n=t||"hex",s=$c(k(e,{strict:!1})?ne(e):e);return n==="bytes"?s:B(s)}function Pr(e){const{commitment:t,version:n=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),r=Fo(t,"bytes");return r.set([n],0),s==="bytes"?r:j(r)}function Er(e){const{commitments:t,version:n}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),r=[];for(const a of t)r.push(Pr({commitment:a,to:s,version:n}));return r}const da=6,No=32,Tr=4096,$o=No*Tr,fa=$o*da-1-1*Tr*da,Lo=1;class Wf extends E{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Oo extends E{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Kf extends E{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Jf extends E{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Lo}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function jo(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?J(e.data):e.data,s=ge(n);if(!s)throw new Oo;if(s>fa)throw new Wf({maxSize:fa,size:s});const r=[];let a=!0,o=0;for(;a;){const i=tt(new Uint8Array($o));let c=0;for(;c<Tr;){const u=n.slice(o,o+(No-1));if(i.pushByte(0),i.pushBytes(u),u.length<31){i.pushByte(128),a=!1;break}c++,o+=31}r.push(i)}return t==="bytes"?r.map(i=>i.bytes):r.map(i=>j(i.bytes))}function Hn(e){const{data:t,kzg:n,to:s}=e,r=e.blobs??jo({data:t,to:s}),a=e.commitments??Un({blobs:r,kzg:n,to:s}),o=e.proofs??zn({blobs:r,commitments:a,kzg:n,to:s}),i=[];for(let c=0;c<r.length;c++)i.push({blob:r[c],commitment:a[c],proof:o[c]});return i}function Ir(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new yo({transaction:e})}async function Ot(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return O(t)}const Go=["blobVersionedHashes","chainId","fees","gas","nonce","type"],la=new Map;async function Vn(e,t){const{account:n=e.account,blobs:s,chain:r,gas:a,kzg:o,nonce:i,nonceManager:c,parameters:u=Go,type:f}=t,d=n&&z(n),l={...t,...d?{from:d==null?void 0:d.address}:{}};let p;async function h(){return p||(p=await C(e,fe,"getBlock")({blockTag:"latest"}),p)}let m;async function y(){return m||(r?r.id:typeof t.chainId<"u"?t.chainId:(m=await C(e,Ot,"getChainId")({}),m))}if(u.includes("nonce")&&typeof i>"u"&&d)if(c){const b=await y();l.nonce=await c.consume({address:d.address,chainId:b,client:e})}else l.nonce=await C(e,xr,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&s&&o){const b=Un({blobs:s,kzg:o});if(u.includes("blobVersionedHashes")){const g=Er({commitments:b,to:"hex"});l.blobVersionedHashes=g}if(u.includes("sidecars")){const g=zn({blobs:s,commitments:b,kzg:o}),w=Hn({blobs:s,commitments:b,proofs:g,to:"hex"});l.sidecars=w}}if(u.includes("chainId")&&(l.chainId=await y()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=Ir(l)}catch{let b=la.get(e.uid);if(typeof b>"u"){const g=await h();b=typeof(g==null?void 0:g.baseFeePerGas)=="bigint",la.set(e.uid,b)}l.type=b?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const b=await h(),{maxFeePerGas:g,maxPriorityFeePerGas:w}=await Ns(e,{block:b,chain:r,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new Mo({maxPriorityFeePerGas:w});l.maxPriorityFeePerGas=w,l.maxFeePerGas=g}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Gn;if(typeof t.gasPrice>"u"){const b=await h(),{gasPrice:g}=await Ns(e,{block:b,chain:r,request:l,type:"legacy"});l.gasPrice=g}}return u.includes("gas")&&typeof a>"u"&&(l.gas=await C(e,_r,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),Re(l),delete l.parameters,l}async function qo(e,{address:t,blockNumber:n,blockTag:s="latest"}){const r=n?_(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,r||s]});return BigInt(a)}async function _r(e,t){var r,a,o;const{account:n=e.account}=t,s=n?z(n):void 0;try{let Z=function(D){const{block:Y,request:U,rpcStateOverride:S}=D;return e.request({method:"eth_estimateGas",params:S?[U,Y??"latest",S]:Y?[U,Y]:[U]})};const{accessList:i,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:p,gas:h,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:g,nonce:w,value:P,stateOverride:x,...v}=await Vn(e,{...t,parameters:(s==null?void 0:s.type)==="local"?void 0:["blobVersionedHashes"]}),I=(d?_(d):void 0)||l,A=br(x),F=await(async()=>{if(v.to)return v.to;if(c&&c.length>0)return await Co({authorization:c[0]}).catch(()=>{throw new E("`to` is required. Could not infer from `authorizationList`")})})();Re(t);const M=(o=(a=(r=e.chain)==null?void 0:r.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,$=(M||we)({...$t(v,{format:M}),from:s==null?void 0:s.address,accessList:i,authorizationList:c,blobs:u,blobVersionedHashes:f,data:p,gas:h,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:g,nonce:w,to:F,value:P});let H=BigInt(await Z({block:I,request:$,rpcStateOverride:A}));if(c){const D=await qo(e,{address:$.from}),Y=await Promise.all(c.map(async U=>{const{contractAddress:S}=U,L=await Z({block:I,request:{authorizationList:void 0,data:p,from:s==null?void 0:s.address,to:S,value:_(D)},rpcStateOverride:A}).catch(()=>100000n);return 2n*BigInt(L)}));H+=Y.reduce((U,S)=>U+S,0n)}return H}catch(i){throw Zu(i,{...t,account:s,chain:e.chain})}}async function Do(e,t){const{abi:n,address:s,args:r,functionName:a,dataSuffix:o,...i}=t,c=re({abi:n,args:r,functionName:a});try{return await C(e,_r,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:s,...i})}catch(u){const f=i.account?z(i.account):void 0;throw Se(u,{abi:n,address:s,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:f==null?void 0:f.address})}}function Fe(e,t){if(!X(e,{strict:!1}))throw new ee({address:e});if(!X(t,{strict:!1}))throw new ee({address:t});return e.toLowerCase()===t.toLowerCase()}const pa="/docs/contract/decodeEventLog";function Wn(e){const{abi:t,data:n,strict:s,topics:r}=e,a=s??!0,[o,...i]=r;if(!o)throw new La({docsPath:pa});const c=t.length===1?t[0]:t.find(m=>m.type==="event"&&o===Tt(qe(m)));if(!(c&&"name"in c)||c.type!=="event")throw new Ws(o,{docsPath:pa});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(m=>!("name"in m&&m.name));let l=d?[]:{};const p=f.filter(m=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){const y=p[m],b=i[m];if(!b)throw new Mt({abiItem:c,param:y});l[d?m:y.name||m]=Zf({param:y,value:b})}const h=f.filter(m=>!("indexed"in m&&m.indexed));if(h.length>0){if(n&&n!=="0x")try{const m=Me(h,n);if(m)if(d)l=[...l,...m];else for(let y=0;y<h.length;y++)l[h[y].name]=m[y]}catch(m){if(a)throw m instanceof Hs||m instanceof fo?new Xe({abiItem:c,data:n,params:h,size:ge(n)}):m}else if(a)throw new Xe({abiItem:c,data:"0x",params:h,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Zf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Me([e],t)||[])[0]}function Kn(e){const{abi:t,args:n,logs:s,strict:r=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return s.map(o=>{var i;try{const c=t.find(f=>f.type==="event"&&o.topics[0]===Tt(f));if(!c)return null;const u=Wn({...o,abi:[c],strict:r});return a&&!a.includes(u.eventName)||!Yf({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...o}}catch(c){let u,f;if(c instanceof Ws)return null;if(c instanceof Xe||c instanceof Mt){if(r)return null;u=c.abiItem.name,f=(i=c.abiItem.inputs)==null?void 0:i.some(d=>!("name"in d&&d.name))}return{...o,args:f?[]:{},eventName:u}}}).filter(Boolean)}function Yf(e){const{args:t,inputs:n,matchArgs:s}=e;if(!s)return!0;if(!t)return!1;function r(a,o,i){try{return a.type==="address"?Fe(o,i):a.type==="string"||a.type==="bytes"?se(ne(o))===i:o===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(s)?s.every((a,o)=>{if(a==null)return!0;const i=n[o];return i?(Array.isArray(a)?a:[a]).some(u=>r(i,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof s=="object"&&!Array.isArray(s)?Object.entries(s).every(([a,o])=>{if(o==null)return!0;const i=n.find(u=>u.name===a);return i?(Array.isArray(o)?o:[o]).some(u=>r(i,u,t[a])):!1}):!1}function me(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Ar(e,{address:t,blockHash:n,fromBlock:s,toBlock:r,event:a,events:o,args:i,strict:c}={}){const u=c??!1,f=o??(a?[a]:void 0);let d=[];f&&(d=[f.flatMap(m=>gt({abi:[m],eventName:m.name,args:o?void 0:i}))],a&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof s=="bigint"?_(s):s,toBlock:typeof r=="bigint"?_(r):r}]});const p=l.map(h=>me(h));return f?Kn({abi:f,args:i,logs:p,strict:u}):p}async function Cr(e,t){const{abi:n,address:s,args:r,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,f=o?Ge({abi:n,name:o}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return C(e,Ar,"getLogs")({address:s,args:r,blockHash:a,event:f,events:d,fromBlock:i,toBlock:c,strict:u})}const fs="/docs/contract/decodeFunctionResult";function Ne(e){const{abi:t,args:n,functionName:s,data:r}=e;let a=t[0];if(s){const i=Ge({abi:t,args:n,name:s});if(!i)throw new _t(s,{docsPath:fs});a=i}if(a.type!=="function")throw new _t(void 0,{docsPath:fs});if(!a.outputs)throw new Ks(a.name,{docsPath:fs});const o=Me(a.outputs,r);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const En=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Uo=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],zo=[...Uo,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Qf=[...Uo,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],ha=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ma=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],$s=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Xf=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],el=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],tl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokeId",type:"uint256"}],outputs:[]}],nl=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],sl="0x82ad56cb",Sr="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Ho="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Vo="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class Tn extends E{constructor({blockNumber:t,chain:n,contract:s}){super(`Chain "${n.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Wo extends E{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Ko extends E{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Br extends E{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class jt extends E{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const ls="/docs/contract/encodeDeployData";function Gt(e){const{abi:t,args:n,bytecode:s}=e;if(!n||n.length===0)return s;const r=t.find(o=>"type"in o&&o.type==="constructor");if(!r)throw new Js({docsPath:ls});if(!("inputs"in r))throw new At({docsPath:ls});if(!r.inputs||r.inputs.length===0)throw new At({docsPath:ls});const a=De(r.inputs,n);return de([s,a])}function Ve({blockNumber:e,chain:t,contract:n}){var r;const s=(r=t==null?void 0:t.contracts)==null?void 0:r[n];if(!s)throw new Tn({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new Tn({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}function Jo(e,{docsPath:t,...n}){const s=(()=>{const r=On(e,n);return r instanceof vt?e:r})();return new yr(s,{docsPath:t,...n})}function Zo(){let e=()=>{},t=()=>{};return{promise:new Promise((s,r)=>{e=s,t=r}),resolve:e,reject:t}}const ps=new Map;function kr({fn:e,id:t,shouldSplitBatch:n,wait:s=0,sort:r}){const a=async()=>{const f=c();o();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{r&&Array.isArray(l)&&l.sort(r);for(let p=0;p<f.length;p++){const{resolve:h}=f[p];h==null||h([l[p],l])}}).catch(l=>{for(let p=0;p<f.length;p++){const{reject:h}=f[p];h==null||h(l)}})},o=()=>ps.delete(t),i=()=>c().map(({args:f})=>f),c=()=>ps.get(t)||[],u=f=>ps.set(t,[...c(),f]);return{flush:o,async schedule(f){const{promise:d,resolve:l,reject:p}=Zo();return(n==null?void 0:n([...i(),f]))&&a(),c().length>0?(u({args:f,resolve:l,reject:p}),d):(u({args:f,resolve:l,reject:p}),setTimeout(a,s),d)}}}async function qt(e,t){var M,N,$,Z;const{account:n=e.account,batch:s=!!((M=e.batch)!=null&&M.multicall),blockNumber:r,blockTag:a="latest",accessList:o,blobs:i,code:c,data:u,factory:f,factoryData:d,gas:l,gasPrice:p,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,to:g,value:w,stateOverride:P,...x}=t,v=n?z(n):void 0;if(c&&(f||d))throw new E("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&g)throw new E("Cannot provide both `code` & `to` as parameters.");const T=c&&u,I=f&&d&&g&&u,A=T||I,F=T?ol({code:c,data:u}):I?il({data:u,factory:f,factoryData:d,to:g}):u;try{Re(t);const D=(r?_(r):void 0)||a,Y=br(P),U=(Z=($=(N=e.chain)==null?void 0:N.formatters)==null?void 0:$.transactionRequest)==null?void 0:Z.format,L=(U||we)({...$t(x,{format:U}),from:v==null?void 0:v.address,accessList:o,blobs:i,data:F,gas:l,gasPrice:p,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,to:A?void 0:g,value:w});if(s&&rl({request:L})&&!Y)try{return await al(e,{...L,blockNumber:r,blockTag:a})}catch(xe){if(!(xe instanceof Br)&&!(xe instanceof Tn))throw xe}const ve=await e.request({method:"eth_call",params:Y?[L,D,Y]:[L,D]});return ve==="0x"?{data:void 0}:{data:ve}}catch(H){const D=cl(H),{offchainLookup:Y,offchainLookupSignature:U}=await Us(async()=>{const{offchainLookup:S,offchainLookupSignature:L}=await Promise.resolve().then(()=>n0);return{offchainLookup:S,offchainLookupSignature:L}},void 0);if(e.ccipRead!==!1&&(D==null?void 0:D.slice(0,10))===U&&g)return{data:await Y(e,{data:D,to:g})};throw A&&(D==null?void 0:D.slice(0,10))==="0x101bb98d"?new Eo({factory:f}):Jo(H,{...t,account:v,chain:e.chain})}}function rl({request:e}){const{data:t,to:n,...s}=e;return!(!t||t.startsWith(sl)||!n||Object.values(s).filter(r=>typeof r<"u").length>0)}async function al(e,t){var m;const{batchSize:n=1024,wait:s=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:r,blockTag:a="latest",data:o,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new Br;u=Ve({blockNumber:r,chain:e.chain,contract:"multicall3"})}const d=(r?_(r):void 0)||a,{schedule:l}=kr({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(y){return y.reduce((g,{data:w})=>g+(w.length-2),0)>n*2},fn:async y=>{const b=y.map(P=>({allowFailure:!0,callData:P.data,target:P.to})),g=re({abi:En,args:[b],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:g,to:u},d]});return Ne({abi:En,args:[b],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:p,success:h}]=await l({data:o,to:c});if(!h)throw new Ft({data:p});return p==="0x"?{data:void 0}:{data:p}}function ol(e){const{code:t,data:n}=e;return Gt({abi:zs(["constructor(bytes, bytes)"]),bytecode:Sr,args:[t,n]})}function il(e){const{data:t,factory:n,factoryData:s,to:r}=e;return Gt({abi:zs(["constructor(address, bytes, address, bytes)"]),bytecode:Ho,args:[r,t,n,s]})}function cl(e){var n;if(!(e instanceof E))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ye(e,t){const{abi:n,address:s,args:r,functionName:a,...o}=t,i=re({abi:n,args:r,functionName:a});try{const{data:c}=await C(e,qt,"call")({...o,data:i,to:s});return Ne({abi:n,args:r,functionName:a,data:c||"0x"})}catch(c){throw Se(c,{abi:n,address:s,args:r,docsPath:"/docs/contract/readContract",functionName:a})}}async function Yo(e,t){const{abi:n,address:s,args:r,dataSuffix:a,functionName:o,...i}=t,c=i.account?z(i.account):e.account,u=re({abi:n,args:r,functionName:o});try{const{data:f}=await C(e,qt,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:s,...i,account:c}),d=Ne({abi:n,args:r,functionName:o,data:f||"0x"}),l=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:d,request:{abi:l,address:s,args:r,dataSuffix:a,functionName:o,...i,account:c}}}catch(f){throw Se(f,{abi:n,address:s,args:r,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const hs=new Map,ya=new Map;let ul=0;function ke(e,t,n){const s=++ul,r=()=>hs.get(e)||[],a=()=>{const f=r();hs.set(e,f.filter(d=>d.id!==s))},o=()=>{const f=r();if(!f.some(l=>l.id===s))return;const d=ya.get(e);f.length===1&&d&&d(),a()},i=r();if(hs.set(e,[...i,{id:s,fns:t}]),i&&i.length>0)return o;const c={};for(const f in t)c[f]=(...d)=>{var p,h;const l=r();if(l.length!==0)for(const m of l)(h=(p=m.fns)[f])==null||h.call(p,...d)};const u=n(c);return typeof u=="function"&&ya.set(e,u),o}async function In(e){return new Promise(t=>setTimeout(t,e))}function Dt(e,{emitOnBegin:t,initialWaitTime:n,interval:s}){let r=!0;const a=()=>r=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await(n==null?void 0:n(i))??s;await In(c);const u=async()=>{r&&(await e({unpoll:a}),await In(s),u())};u()})(),a}const dl=new Map,fl=new Map;function ll(e){const t=(r,a)=>({clear:()=>a.delete(r),get:()=>a.get(r),set:o=>a.set(r,o)}),n=t(e,dl),s=t(e,fl);return{clear:()=>{n.clear(),s.clear()},promise:n,response:s}}async function pl(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const s=ll(t),r=s.response.get();if(r&&n>0&&new Date().getTime()-r.created.getTime()<n)return r.data;let a=s.promise.get();a||(a=e(),s.promise.set(a));try{const o=await a;return s.response.set({created:new Date,data:o}),o}finally{s.promise.clear()}}const hl=e=>`blockNumber.${e}`;async function Ut(e,{cacheTime:t=e.cacheTime}={}){const n=await pl(()=>e.request({method:"eth_blockNumber"}),{cacheKey:hl(e.uid),cacheTime:t});return BigInt(n)}async function Jn(e,{filter:t}){const n="strict"in t&&t.strict,s=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof s[0]=="string")return s;const r=s.map(a=>me(a));return!("abi"in t)||!t.abi?r:Kn({abi:t.abi,logs:r,strict:n})}async function Zn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Qo(e,t){const{abi:n,address:s,args:r,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const y=l??!1,b=q(["watchContractEvent",s,r,a,e.uid,o,d,y,i]);return ke(b,{onLogs:u,onError:c},g=>{let w;i!==void 0&&(w=i-1n);let P,x=!1;const v=Dt(async()=>{var T;if(!x){try{P=await C(e,ar,"createContractEventFilter")({abi:n,address:s,args:r,eventName:o,strict:y,fromBlock:i})}catch{}x=!0;return}try{let I;if(P)I=await C(e,Jn,"getFilterChanges")({filter:P});else{const A=await C(e,Ut,"getBlockNumber")({});w&&w<A?I=await C(e,Cr,"getContractEvents")({abi:n,address:s,args:r,eventName:o,fromBlock:w+1n,toBlock:A,strict:y}):I=[],w=A}if(I.length===0)return;if(a)g.onLogs(I);else for(const A of I)g.onLogs([A])}catch(I){P&&I instanceof Ce&&(x=!1),(T=g.onError)==null||T.call(g,I)}},{emitOnBegin:!0,interval:d});return async()=>{P&&await C(e,Zn,"uninstallFilter")({filter:P}),v()}})})():(()=>{const y=l??!1,b=q(["watchContractEvent",s,r,a,e.uid,o,d,y]);let g=!0,w=()=>g=!1;return ke(b,{onLogs:u,onError:c},P=>((async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(A=>A.config.type==="webSocket");return I?I.value:e.transport}return e.transport})(),v=o?gt({abi:n,eventName:o,args:r}):[],{unsubscribe:T}=await x.subscribe({params:["logs",{address:s,topics:v}],onData(I){var F;if(!g)return;const A=I.result;try{const{eventName:M,args:N}=Wn({abi:n,data:A.data,topics:A.topics,strict:l}),$=me(A,{args:N,eventName:M});P.onLogs([$])}catch(M){let N,$;if(M instanceof Xe||M instanceof Mt){if(l)return;N=M.abiItem.name,$=(F=M.abiItem.inputs)==null?void 0:F.some(H=>!("name"in H&&H.name))}const Z=me(A,{args:$?[]:{},eventName:N});P.onLogs([Z])}},onError(I){var A;(A=P.onError)==null||A.call(P,I)}});w=T,g||w()}catch(x){c==null||c(x)}})(),()=>w()))})()}class zt extends E{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class ms extends E{constructor({docsPath:t,metaMessages:n,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Mr({chain:e,currentChainId:t}){if(!e)throw new Ko;if(t!==e.id)throw new Wo({chain:e,currentChainId:t})}function ml(e,{docsPath:t,...n}){const s=(()=>{const r=On(e,n);return r instanceof vt?e:r})();return new wo(s,{docsPath:t,...n})}async function Rr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const ys=new Zs(128);async function Fr(e,t){var b,g,w,P;const{account:n=e.account,chain:s=e.chain,accessList:r,authorizationList:a,blobs:o,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:p,value:h,...m}=t;if(typeof n>"u")throw new zt({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?z(n):null;try{Re(t);const x=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Co({authorization:a[0]}).catch(()=>{throw new E("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let v;s!==null&&(v=await C(e,Ot,"getChainId")({}),Mr({currentChainId:v,chain:s}));const T=(w=(g=(b=e.chain)==null?void 0:b.formatters)==null?void 0:g.transactionRequest)==null?void 0:w.format,A=(T||we)({...$t(m,{format:T}),accessList:r,authorizationList:a,blobs:o,chainId:v,data:i,from:y==null?void 0:y.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:p,to:x,value:h}),F=ys.get(e.uid),M=F?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:M,params:[A]},{retryCount:0})}catch(N){if(F===!1)throw N;const $=N;if($.name==="InvalidInputRpcError"||$.name==="InvalidParamsRpcError"||$.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[A]},{retryCount:0}).then(Z=>(ys.set(e.uid,!0),Z)).catch(Z=>{const H=Z;throw H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError"?(ys.set(e.uid,!1),$):H});throw $}}if((y==null?void 0:y.type)==="local"){const v=await C(e,Vn,"prepareTransactionRequest")({account:y,accessList:r,authorizationList:a,blobs:o,chain:s,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:p,nonceManager:y.nonceManager,parameters:[...Go,"sidecars"],value:h,...m,to:x}),T=(P=s==null?void 0:s.serializers)==null?void 0:P.transaction,I=await y.signTransaction(v,{serializer:T});return await C(e,Rr,"sendRawTransaction")({serializedTransaction:I})}throw(y==null?void 0:y.type)==="smart"?new ms({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new ms({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(x){throw x instanceof ms?x:ml(x,{...t,account:y,chain:t.chain||void 0})}}async function Xo(e,t){const{abi:n,account:s=e.account,address:r,args:a,dataSuffix:o,functionName:i,...c}=t;if(typeof s>"u")throw new zt({docsPath:"/docs/contract/writeContract"});const u=s?z(s):null,f=re({abi:n,args:a,functionName:i});try{return await C(e,Fr,"sendTransaction")({data:`${f}${o?o.replace("0x",""):""}`,to:r,account:u,...c})}catch(d){throw Se(d,{abi:n,address:r,args:a,docsPath:"/docs/contract/writeContract",functionName:i,sender:u==null?void 0:u.address})}}function yl({abi:e,address:t,client:n}){const s=n,[r,a]=s?"public"in s&&"wallet"in s?[s.public,s.wallet]:"public"in s?[s.public,void 0]:"wallet"in s?[void 0,s.wallet]:[s,s]:[void 0,void 0],o=r!=null,i=a!=null,c={};let u=!1,f=!1,d=!1;for(const l of e)if(l.type==="function"?l.stateMutability==="view"||l.stateMutability==="pure"?u=!0:f=!0:l.type==="event"&&(d=!0),u&&f&&d)break;return o&&(u&&(c.read=new Proxy({},{get(l,p){return(...h)=>{const{args:m,options:y}=nn(h);return C(r,ye,"readContract")({abi:e,address:t,functionName:p,args:m,...y})}}})),f&&(c.simulate=new Proxy({},{get(l,p){return(...h)=>{const{args:m,options:y}=nn(h);return C(r,Yo,"simulateContract")({abi:e,address:t,functionName:p,args:m,...y})}}})),d&&(c.createEventFilter=new Proxy({},{get(l,p){return(...h)=>{const m=e.find(g=>g.type==="event"&&g.name===p),{args:y,options:b}=bs(h,m);return C(r,ar,"createContractEventFilter")({abi:e,address:t,eventName:p,args:y,...b})}}}),c.getEvents=new Proxy({},{get(l,p){return(...h)=>{const m=e.find(g=>g.type==="event"&&g.name===p),{args:y,options:b}=bs(h,m);return C(r,Cr,"getContractEvents")({abi:e,address:t,eventName:p,args:y,...b})}}}),c.watchEvent=new Proxy({},{get(l,p){return(...h)=>{const m=e.find(g=>g.type==="event"&&g.name===p),{args:y,options:b}=bs(h,m);return C(r,Qo,"watchContractEvent")({abi:e,address:t,eventName:p,args:y,...b})}}}))),i&&f&&(c.write=new Proxy({},{get(l,p){return(...h)=>{const{args:m,options:y}=nn(h);return C(a,Xo,"writeContract")({abi:e,address:t,functionName:p,args:m,...y})}}})),(o||i)&&f&&(c.estimateGas=new Proxy({},{get(l,p){return(...h)=>{const{args:m,options:y}=nn(h);return C(r??a,Do,"estimateContractGas")({abi:e,address:t,functionName:p,args:m,...y,account:y.account??a.account})}}})),c.address=t,c.abi=e,c}function nn(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],s=(t?e[1]:e[0])??{};return{args:n,options:s}}function bs(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const s=n?e[0]:void 0,r=(n?e[1]:e[0])??{};return{args:s,options:r}}class bl extends E{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function gl(e,t){const{address:n,factory:s,factoryData:r}=t;try{const[a,o,i,c,u,f,d]=await C(e,ye,"readContract")({abi:wl,address:n,functionName:"eip712Domain",factory:s,factoryData:r});return{domain:{name:o,version:i,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:a}}catch(a){const o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new bl({address:n}):o}}const wl=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function vl(e,{chain:t}){const{id:n,name:s,nativeCurrency:r,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:_(n),chainName:s,nativeCurrency:r,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}const Ls=256;let sn=Ls,rn;function ei(e=11){if(!rn||sn+e>Ls*2){rn="",sn=0;for(let t=0;t<Ls;t++)rn+=(256+Math.random()*256|0).toString(16).substring(1)}return rn.substring(sn,sn+++e)}function Yn(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:s,key:r="base",name:a="Base Client",pollingInterval:o=4e3,type:i="base"}=e,c=e.chain,u=e.account?z(e.account):void 0,{config:f,request:d,value:l}=e.transport({chain:c,pollingInterval:o}),p={...f,...l},h={account:u,batch:t,cacheTime:n,ccipRead:s,chain:c,key:r,name:a,pollingInterval:o,request:d,transport:p,type:i,uid:ei()};function m(y){return b=>{const g=b(y);for(const P in h)delete g[P];const w={...y,...g};return Object.assign(w,{extend:m(w)})}}return Object.assign(h,{extend:m(h)})}function xl(){return null}const an=new Zs(8192);function Pl(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(an.get(n))return an.get(n);const s=e().finally(()=>an.delete(n));return an.set(n,s),s}function _n(e,{delay:t=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((r,a)=>{const o=async({count:i=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:i,error:u}):t;f&&await In(f),o({count:i+1})};try{const u=await e();r(u)}catch(u){if(i<n&&await s({count:i,error:u}))return c({error:u});a(u)}};o()})}function El(e,t={}){return async(n,s={})=>{var d;const{dedupe:r=!1,methods:a,retryDelay:o=150,retryCount:i=3,uid:c}={...t,...s},{method:u}=n;if((d=a==null?void 0:a.exclude)!=null&&d.includes(u))throw new Ee(new Error("method not supported"),{method:u});if(a!=null&&a.include&&!a.include.includes(u))throw new Ee(new Error("method not supported"),{method:u});const f=r?kn(`${c}.${q(n)}`):void 0;return Pl(()=>_n(async()=>{try{return await e(n)}catch(l){const p=l;switch(p.code){case nt.code:throw new nt(p);case st.code:throw new st(p);case rt.code:throw new rt(p,{method:n.method});case at.code:throw new at(p);case Ae.code:throw new Ae(p);case Ce.code:throw new Ce(p);case ot.code:throw new ot(p);case it.code:throw new it(p);case Le.code:throw new Le(p);case Ee.code:throw new Ee(p,{method:n.method});case Oe.code:throw new Oe(p);case ct.code:throw new ct(p);case _e.code:throw new _e(p);case ut.code:throw new ut(p);case dt.code:throw new dt(p);case ft.code:throw new ft(p);case lt.code:throw new lt(p);case pt.code:throw new pt(p);case 5e3:throw new _e(p);default:throw l instanceof E?l:new To(p)}}},{delay:({count:l,error:p})=>{var h;if(p&&p instanceof Ie){const m=(h=p==null?void 0:p.headers)==null?void 0:h.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<l)*o},retryCount:i,shouldRetry:({error:l})=>Tl(l)}),{enabled:r,id:f})}}function Tl(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Oe.code||e.code===Ae.code:e instanceof Ie&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Ht({key:e,methods:t,name:n,request:s,retryCount:r=3,retryDelay:a=150,timeout:o,type:i},c){const u=ei();return{config:{key:e,methods:t,name:n,request:s,retryCount:r,retryDelay:a,timeout:o,type:i},request:El(s,{methods:t,retryCount:r,retryDelay:a,uid:u}),value:c}}function Il(e,t={}){const{key:n="custom",methods:s,name:r="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>Ht({key:n,methods:s,name:r,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}function _l(e,t={}){const{key:n="fallback",name:s="Fallback",rank:r=!1,shouldThrow:a=ti,retryCount:o,retryDelay:i}=t;return({chain:c,pollingInterval:u=4e3,timeout:f,...d})=>{let l=e,p=()=>{};const h=Ht({key:n,name:s,async request({method:m,params:y}){let b;const g=async(w=0)=>{const P=l[w]({...d,chain:c,retryCount:0,timeout:f});try{const x=await P.request({method:m,params:y});return p({method:m,params:y,response:x,transport:P,status:"success"}),x}catch(x){if(p({error:x,method:m,params:y,transport:P,status:"error"}),a(x)||w===l.length-1||(b??(b=l.slice(w+1).some(v=>{const{include:T,exclude:I}=v({chain:c}).config.methods||{};return T?T.includes(m):I?!I.includes(m):!0})),!b))throw x;return g(w+1)}};return g()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:m=>p=m,transports:l.map(m=>m({chain:c,retryCount:0}))});if(r){const m=typeof r=="object"?r:{};Al({chain:c,interval:m.interval??u,onTransports:y=>l=y,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:l,weights:m.weights})}return h}}function ti(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Le.code||e.code===_e.code||Te.nodeMessage.test(e.message)||e.code===5e3))}function Al({chain:e,interval:t=4e3,onTransports:n,ping:s,sampleCount:r=10,timeout:a=1e3,transports:o,weights:i={}}){const{stability:c=.7,latency:u=.3}=i,f=[],d=async()=>{const l=await Promise.all(o.map(async m=>{const y=m({chain:e,retryCount:0,timeout:a}),b=Date.now();let g,w;try{await(s?s({transport:y}):y.request({method:"net_listening"})),w=1}catch{w=0}finally{g=Date.now()}return{latency:g-b,success:w}}));f.push(l),f.length>r&&f.shift();const p=Math.max(...f.map(m=>Math.max(...m.map(({latency:y})=>y)))),h=o.map((m,y)=>{const b=f.map(v=>v[y].latency),w=1-b.reduce((v,T)=>v+T,0)/b.length/p,P=f.map(v=>v[y].success),x=P.reduce((v,T)=>v+T,0)/P.length;return x===0?[0,y]:[u*w+c*x,y]}).sort((m,y)=>y[0]-m[0]);n(h.map(([,m])=>o[m])),await In(t),d()};d()}class Nr extends E{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function $r(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:s}){return new Promise((r,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{s?i.abort():a(t)},n)),r(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){(i==null?void 0:i.name)==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}function Cl(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Os=Cl();function Sl(e,t={}){return{async request(n){var d;const{body:s,onRequest:r=t.onRequest,onResponse:a=t.onResponse,timeout:o=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=i;try{const l=await $r(async({signal:h})=>{const m={...i,body:Array.isArray(s)?q(s.map(w=>({jsonrpc:"2.0",id:w.id??Os.take(),...w}))):q({jsonrpc:"2.0",id:s.id??Os.take(),...s}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(o>0?h:null)},y=new Request(e,m),b=await(r==null?void 0:r(y,m))??{...m,url:e};return await fetch(b.url??e,b)},{errorInstance:new hn({body:s,url:e}),timeout:o,signal:!0});a&&await a(l);let p;if((d=l.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))p=await l.json();else{p=await l.text();try{p=JSON.parse(p||"{}")}catch(h){if(l.ok)throw h;p={error:p}}}if(!l.ok)throw new Ie({body:s,details:q(p.error)||l.statusText,headers:l.headers,status:l.status,url:e});return p}catch(l){throw l instanceof Ie||l instanceof hn?l:new Ie({body:s,cause:l,url:e})}}}}function Bl(e,t={}){const{batch:n,fetchOptions:s,key:r="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:c,retryDelay:u,raw:f}=t;return({chain:d,retryCount:l,timeout:p})=>{const{batchSize:h=1e3,wait:m=0}=typeof n=="object"?n:{},y=t.retryCount??l,b=p??t.timeout??1e4,g=e||(d==null?void 0:d.rpcUrls.default.http[0]);if(!g)throw new Nr;const w=Sl(g,{fetchOptions:s,onRequest:i,onResponse:c,timeout:b});return Ht({key:r,methods:a,name:o,async request({method:P,params:x}){const v={method:P,params:x},{schedule:T}=kr({id:g,wait:m,shouldSplitBatch(M){return M.length>h},fn:M=>w.request({body:M}),sort:(M,N)=>M.id-N.id}),I=async M=>n?T(M):[await w.request({body:M})],[{error:A,result:F}]=await I(v);if(f)return{error:A,result:F};if(A)throw new Nt({body:v,error:A,url:g});return F},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:s,url:g})}}function Lr(e,t){var s,r,a,o,i,c;if(!(e instanceof E))return!1;const n=e.walk(u=>u instanceof pn);return n instanceof pn?!!(((s=n.data)==null?void 0:s.errorName)==="ResolverNotFound"||((r=n.data)==null?void 0:r.errorName)==="ResolverWildcardNotSupported"||((a=n.data)==null?void 0:a.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===uo[50]):!1}function ni(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return k(t)?t:null}function Et(e){let t=new Uint8Array(32).fill(0);if(!e)return j(t);const n=e.split(".");for(let s=n.length-1;s>=0;s-=1){const r=ni(n[s]),a=r?ne(r):se(Ye(n[s]),"bytes");t=se(Mn([t,a]),"bytes")}return j(t)}function kl(e){return`[${e.slice(2)}]`}function si(e){const t=new Uint8Array(32).fill(0);return e?ni(e)||se(Ye(e)):j(t)}function Qn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ye(t).byteLength+2);let s=0;const r=t.split(".");for(let a=0;a<r.length;a++){let o=Ye(r[a]);o.byteLength>255&&(o=Ye(kl(si(r[a])))),n[s]=o.length,n.set(o,s+1),s+=o.length+1}return n.byteLength!==s+1?n.slice(0,s+1):n}async function Ml(e,{blockNumber:t,blockTag:n,coinType:s,name:r,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ve({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=re({abi:ma,functionName:"addr",...s!=null?{args:[Et(r),BigInt(s)]}:{args:[Et(r)]}}),f={address:c,abi:zo,functionName:"resolve",args:[B(Qn(r)),u],blockNumber:t,blockTag:n},d=C(e,ye,"readContract"),l=a?await d({...f,args:[...f.args,a]}):await d(f);if(l[0]==="0x")return null;const p=Ne({abi:ma,args:s!=null?[Et(r),BigInt(s)]:void 0,functionName:"addr",data:l[0]});return p==="0x"||le(p)==="0x00"?null:p}catch(u){if(o)throw u;if(Lr(u,"resolve"))return null;throw u}}class Rl extends E{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Je extends E{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Xn extends E{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ri extends E{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Fl=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Nl=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,$l=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ll=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ol(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const s=new Image;s.onload=()=>{n(!0)},s.onerror=()=>{n(!1)},s.src=e})}}function ba(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ai({uri:e,gatewayUrls:t}){const n=$l.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const s=ba(t==null?void 0:t.ipfs,"https://ipfs.io"),r=ba(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(Fl),{protocol:o,subpath:i,target:c,subtarget:u=""}=(a==null?void 0:a.groups)||{},f=o==="ipns:/"||i==="ipns/",d=o==="ipfs:/"||i==="ipfs/"||Nl.test(e);if(e.startsWith("http")&&!f&&!d){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${s}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${r}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Ll,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Xn({uri:e})}function oi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Rl({data:e});return e.image||e.image_url||e.image_data}async function jl({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(r=>r.json());return await Or({gatewayUrls:e,uri:oi(n)})}catch{throw new Xn({uri:t})}}async function Or({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:s}=ai({uri:t,gatewayUrls:e});if(s||await Ol(n))return n;throw new Xn({uri:t})}function Gl(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,s,r]=t.split("/"),[a,o]=n.split(":"),[i,c]=s.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Je({reason:"Only EIP-155 supported"});if(!o)throw new Je({reason:"Chain ID not found"});if(!c)throw new Je({reason:"Contract address not found"});if(!r)throw new Je({reason:"Token ID not found"});if(!i)throw new Je({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:r}}async function ql(e,{nft:t}){if(t.namespace==="erc721")return ye(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ye(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ri({namespace:t.namespace})}async function Dl(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Ul(e,{gatewayUrls:t,record:n}):Or({uri:n,gatewayUrls:t})}async function Ul(e,{gatewayUrls:t,record:n}){const s=Gl(n),r=await ql(e,{nft:s}),{uri:a,isOnChain:o,isEncoded:i}=ai({uri:r,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=i?atob(a.replace("data:application/json;base64,","")):a,f=JSON.parse(u);return Or({uri:oi(f),gatewayUrls:t})}let c=s.tokenID;return s.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),jl({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function ii(e,{blockNumber:t,blockTag:n,name:s,key:r,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ve({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:zo,functionName:"resolve",args:[B(Qn(s)),re({abi:ha,functionName:"text",args:[Et(s),r]})],blockNumber:t,blockTag:n},f=C(e,ye,"readContract"),d=a?await f({...u,args:[...u.args,a]}):await f(u);if(d[0]==="0x")return null;const l=Ne({abi:ha,functionName:"text",data:d[0]});return l===""?null:l}catch(u){if(o)throw u;if(Lr(u,"resolve"))return null;throw u}}async function zl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:s,name:r,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await C(e,ii,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:r,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await Dl(e,{record:c,gatewayUrls:s})}catch{return null}}async function Hl(e,{address:t,blockNumber:n,blockTag:s,gatewayUrls:r,strict:a,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Ve({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:Qf,functionName:"reverse",args:[B(Qn(c))],blockNumber:n,blockTag:s},f=C(e,ye,"readContract"),[d,l]=r?await f({...u,args:[...u.args,r]}):await f(u);return t.toLowerCase()!==l.toLowerCase()?null:d}catch(u){if(a)throw u;if(Lr(u,"reverse"))return null;throw u}}async function Vl(e,{blockNumber:t,blockTag:n,name:s,universalResolverAddress:r}){let a=r;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ve({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await C(e,ye,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[B(Qn(s))],blockNumber:t,blockTag:n});return o}async function ci(e,t){var y,b,g;const{account:n=e.account,blockNumber:s,blockTag:r="latest",blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:p,...h}=t,m=n?z(n):void 0;try{Re(t);const P=(s?_(s):void 0)||r,x=(g=(b=(y=e.chain)==null?void 0:y.formatters)==null?void 0:b.transactionRequest)==null?void 0:g.format,T=(x||we)({...$t(h,{format:x}),from:m==null?void 0:m.address,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:p}),I=await e.request({method:"eth_createAccessList",params:[T,P]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(w){throw Jo(w,{...t,account:m,chain:e.chain})}}async function Wl(e){const t=$n(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function ui(e,{address:t,args:n,event:s,events:r,fromBlock:a,strict:o,toBlock:i}={}){const c=r??(s?[s]:void 0),u=$n(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(p=>gt({abi:[p],eventName:p.name,args:n}))],s&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?_(a):a,toBlock:typeof i=="bigint"?_(i):i,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:s?s.name:void 0,fromBlock:a,id:d,request:u(d),strict:!!o,toBlock:i,type:"event"}}async function di(e){const t=$n(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Kl(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Jl(e,{blockHash:t,blockNumber:n,blockTag:s="latest"}={}){const r=n!==void 0?_(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[r||s]},{dedupe:!!r}),O(a)}async function ga(e,{address:t,blockNumber:n,blockTag:s="latest"}){const r=n!==void 0?_(n):void 0,a=await e.request({method:"eth_getCode",params:[t,r||s]},{dedupe:!!r});if(a!=="0x")return a}function Zl(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(s=>BigInt(s)))}}async function Yl(e,{blockCount:t,blockNumber:n,blockTag:s="latest",rewardPercentiles:r}){const a=n?_(n):void 0,o=await e.request({method:"eth_feeHistory",params:[_(t),a||s,r]},{dedupe:!!a});return Zl(o)}async function Ql(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>me(a));return t.abi?Kn({abi:t.abi,logs:r,strict:n}):r}class Xl extends E{constructor({callbackSelector:t,cause:n,data:s,extraData:r,sender:a,urls:o}){var i;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(i=n.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${Ue(c)}`)],`  Sender: ${a}`,`  Data: ${s}`,`  Callback selector: ${t}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}}class e0 extends E{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Ue(n)}`,`Response: ${q(t)}`],name:"OffchainLookupResponseMalformedError"})}}class t0 extends E{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const fi="0x556f1830",jr={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function li(e,{blockNumber:t,blockTag:n,data:s,to:r}){const{args:a}=ur({data:s,abi:[jr]}),[o,i,c,u,f]=a,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:An;try{if(!Fe(r,o))throw new t0({sender:o,to:r});const p=await l({data:c,sender:o,urls:i}),{data:h}=await qt(e,{blockNumber:t,blockTag:n,data:Mn([u,De([{type:"bytes"},{type:"bytes"}],[p,f])]),to:r});return h}catch(p){throw new Xl({callbackSelector:u,cause:p,data:s,extraData:f,sender:o,urls:i})}}async function An({data:e,sender:t,urls:n}){var r;let s=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const o=n[a],i=o.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0,u=i==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:i});let d;if((r=f.headers.get("Content-Type"))!=null&&r.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){s=new Ie({body:c,details:d!=null&&d.error?q(d.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!k(d)){s=new e0({result:d,url:o});continue}return d}catch(f){s=new Ie({body:c,details:f.message,url:o})}}throw s}const n0=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:An,offchainLookup:li,offchainLookupAbiItem:jr,offchainLookupSignature:fi},Symbol.toStringTag,{value:"Module"}));function s0(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function r0({chains:e,id:t}){return e.find(n=>n.id===t)}const gs=new Map;async function a0(e){const{getSocket:t,keepAlive:n=!0,key:s="socket",reconnect:r=!0,url:a}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:i=5,delay:c=2e3}=typeof r=="object"?r:{};let u=gs.get(`${s}:${a}`);if(u)return u;let f=0;const{schedule:d}=kr({id:`${s}:${a}`,fn:async()=>{const h=new Map,m=new Map;let y,b,g;async function w(){const P=await t({onClose(){var x,v;for(const T of h.values())(x=T.onError)==null||x.call(T,new kt({url:a}));for(const T of m.values())(v=T.onError)==null||v.call(T,new kt({url:a}));h.clear(),m.clear(),r&&f<i&&setTimeout(async()=>{f++,await w().catch(console.error)},c)},onError(x){var v,T;y=x;for(const I of h.values())(v=I.onError)==null||v.call(I,y);for(const I of m.values())(T=I.onError)==null||T.call(I,y);h.clear(),m.clear(),u==null||u.close(),r&&f<i&&setTimeout(async()=>{f++,await w().catch(console.error)},c)},onOpen(){y=void 0,f=0},onResponse(x){const v=x.method==="eth_subscription",T=v?x.params.subscription:x.id,I=v?m:h,A=I.get(T);A&&A.onResponse(x),v||I.delete(T)}});return b=P,n&&(g&&clearInterval(g),g=setInterval(()=>{var x;return(x=b.ping)==null?void 0:x.call(b)},o)),P}return await w(),y=void 0,u={close(){g&&clearInterval(g),b.close(),gs.delete(`${s}:${a}`)},get socket(){return b},request({body:P,onError:x,onResponse:v}){y&&x&&x(y);const T=P.id??Os.take(),I=A=>{var F;typeof A.id=="number"&&T!==A.id||(P.method==="eth_subscribe"&&typeof A.result=="string"&&m.set(A.result,{onResponse:I,onError:x}),P.method==="eth_unsubscribe"&&m.delete((F=P.params)==null?void 0:F[0]),v(A))};h.set(T,{onResponse:I,onError:x});try{b.request({body:{jsonrpc:"2.0",id:T,...P}})}catch(A){x==null||x(A)}},requestAsync({body:P,timeout:x=1e4}){return $r(()=>new Promise((v,T)=>this.request({body:P,onError:T,onResponse:v})),{errorInstance:new hn({body:P,url:a}),timeout:x})},requests:h,subscriptions:m,url:a},gs.set(`${s}:${a}`,u),[u]}}),[l,[p]]=await d();return p}async function dn(e,t={}){const{keepAlive:n,reconnect:s}=t;return a0({async getSocket({onClose:r,onError:a,onOpen:o,onResponse:i}){const c=await Us(()=>import("./native-CrTKSWDz.js"),__vite__mapDeps([3,4,5])).then(p=>p.WebSocket),u=new c(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",d),u.removeEventListener("error",a),u.removeEventListener("open",o),r()}function d({data:p}){try{const h=JSON.parse(p);i(h)}catch(h){a(h)}}u.addEventListener("close",f),u.addEventListener("message",d),u.addEventListener("error",a),u.addEventListener("open",o),u.readyState===c.CONNECTING&&await new Promise((p,h)=>{u&&(u.onopen=p,u.onerror=h)});const{close:l}=u;return Object.assign(u,{close(){l.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Fs({url:u.url,cause:new kt({url:u.url})});const p={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(p))}catch(p){a(p)}},request({body:p}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Fs({body:p,url:u.url,cause:new kt({url:u.url})});return u.send(JSON.stringify(p))}})},keepAlive:n,reconnect:s,url:e})}async function o0(e){const t=await dn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function i0(e){const{abi:t,data:n}=e,s=$e(n,0,4),r=t.find(a=>a.type==="function"&&s===It(qe(a)));if(!r)throw new Oa(s,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:r.name,args:"inputs"in r&&r.inputs&&r.inputs.length>0?Me(r.inputs,$e(n,4)):void 0}}const ws="/docs/contract/encodeErrorResult";function c0(e){const{abi:t,errorName:n,args:s}=e;let r=t[0];if(n){const c=Ge({abi:t,args:s,name:n});if(!c)throw new _s(n,{docsPath:ws});r=c}if(r.type!=="error")throw new _s(void 0,{docsPath:ws});const a=qe(r),o=It(a);let i="0x";if(s&&s.length>0){if(!r.inputs)throw new ja(r.name,{docsPath:ws});i=De(r.inputs,s)}return de([o,i])}const vs="/docs/contract/encodeFunctionResult";function u0(e){const{abi:t,functionName:n,result:s}=e;let r=t[0];if(n){const o=Ge({abi:t,name:n});if(!o)throw new _t(n,{docsPath:vs});r=o}if(r.type!=="function")throw new _t(void 0,{docsPath:vs});if(!r.outputs)throw new Ks(r.name,{docsPath:vs});const a=(()=>{if(r.outputs.length===0)return[];if(r.outputs.length===1)return[s];if(Array.isArray(s))return s;throw new Ga(s)})();return De(r.outputs,a)}function d0(e,t){if(e.length!==t.length)throw new qa({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],a=t[s];n.push(pi(r,a))}return de(n)}function pi(e,t,n=!1){if(e==="address"){const o=t;if(!X(o))throw new ee({address:o});return Pt(o.toLowerCase(),{size:n?32:null})}if(e==="string")return kn(t);if(e==="bytes")return t;if(e==="bool")return Pt(Da(t),{size:n?32:1});const s=e.match(ac);if(s){const[o,i,c="256"]=s,u=Number.parseInt(c)/8;return _(t,{size:n?32:u,signed:i==="int"})}const r=e.match(oc);if(r){const[o,i]=r;if(Number.parseInt(i)!==(t.length-2)/2)throw new Ua({expectedSize:Number.parseInt(i),givenSize:(t.length-2)/2});return Pt(t,{dir:"right",size:n?32:null})}const a=e.match(ic);if(a&&Array.isArray(t)){const[o,i]=a,c=[];for(let u=0;u<t.length;u++)c.push(pi(i,t[u],!0));return c.length===0?"0x":de(c)}throw new za(e)}function js(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function f0(e){return e.opcode==="CREATE2"?mi(e):hi(e)}function hi(e){const t=ne(pe(e.from));let n=ne(e.nonce);return n[0]===0&&(n=new Uint8Array([])),pe(`0x${se(ce([t,n],"bytes")).slice(26)}`)}function mi(e){const t=ne(pe(e.from)),n=Pt(js(e.salt)?e.salt:ne(e.salt),{size:32}),s="bytecodeHash"in e?js(e.bytecodeHash)?e.bytecodeHash:ne(e.bytecodeHash):se(e.bytecode,"bytes");return pe($e(se(Mn([ne("0xff"),t,n,s])),12))}const l0={"0x0":"reverted","0x1":"success"};function Gr(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>me(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?O(e.transactionIndex):null,status:e.status?l0[e.status]:null,type:e.type?wr[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const p0=jn("transactionReceipt",Gr);function qr(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new Ha(e);return J(e)}return e})(),s=tt(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return yi(s,t)}function yi(e,t="hex"){if(e.bytes.length===0)return t==="hex"?j(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const r=wa(e,n,128),a=e.readBytes(r);return t==="hex"?j(a):a}const s=wa(e,n,192);return h0(e,s,t)}function wa(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new E("Invalid RLP prefix")}function h0(e,t,n){const s=e.position,r=[];for(;e.position-s<t;)r.push(yi(e,n));return r}function bi(e){return k(e)&&ge(e)===32}function m0(e,t){const n=t||"hex",s=Xc(k(e,{strict:!1})?ne(e):e);return n==="bytes"?s:B(s)}async function gi({message:e,signature:t}){return He({hash:Rn(e),signature:t})}async function wi(e){const{domain:t,message:n,primaryType:s,signature:r,types:a}=e;return He({hash:Ys({domain:t,message:n,primaryType:s,types:a}),signature:r})}async function y0({address:e,hash:t,signature:n}){return Fe(pe(e),await He({hash:t,signature:n}))}async function b0({address:e,message:t,signature:n}){return Fe(pe(e),await gi({message:t,signature:n}))}async function g0(e){const{address:t,domain:n,message:s,primaryType:r,signature:a,types:o}=e;return Fe(pe(t),await wi({domain:n,message:s,primaryType:r,signature:a,types:o}))}const vi="0x6492649264926492649264926492649264926492649264926492649264926492",w0="0x0000000000000000000000000000000000000000000000000000000000000000";function Dr(e){return Qs(e,-32)===vi}function v0(e){if(!Dr(e))return{signature:e};const[t,n,s]=Me([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:s}}function xi(e){const{address:t,data:n,signature:s,to:r="hex"}=e,a=de([De([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,s]),vi]);return r==="hex"?a:J(a)}function Pi(e){const t=Qs(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&O(t)>=192)return"legacy";throw new bo({serializedType:t})}function Ei(e){const{authorizationList:t}=e;if(t)for(const n of t){const{contractAddress:s,chainId:r}=n;if(!X(s))throw new ee({address:s});if(r<0)throw new jt({chainId:r})}Vt(e)}function Ti(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Oo;for(const n of t){const s=ge(n),r=O($e(n,0,1));if(s!==32)throw new Kf({hash:n,size:s});if(r!==Lo)throw new Jf({hash:n,version:r})}}Vt(e)}function Vt(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:s,to:r}=e;if(t<=0)throw new jt({chainId:t});if(r&&!X(r))throw new ee({address:r});if(s&&s>Lt)throw new Be({maxFeePerGas:s});if(n&&s&&n>s)throw new ht({maxFeePerGas:s,maxPriorityFeePerGas:n})}function Ur(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:a}=e;if(t<=0)throw new jt({chainId:t});if(a&&!X(a))throw new ee({address:a});if(n||r)throw new E("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>Lt)throw new Be({maxFeePerGas:s})}function zr(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:a}=e;if(a&&!X(a))throw new ee({address:a});if(typeof t<"u"&&t<=0)throw new jt({chainId:t});if(n||r)throw new E("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>Lt)throw new Be({maxFeePerGas:s})}function Ii(e){const t=Pi(e);return t==="eip1559"?E0(e):t==="eip2930"?T0(e):t==="eip4844"?P0(e):t==="eip7702"?x0(e):I0(e)}function x0(e){const t=es(e),[n,s,r,a,o,i,c,u,f,d,l,p,h]=t;if(t.length!==10&&t.length!==13)throw new wt({attributes:{chainId:n,nonce:s,maxPriorityFeePerGas:r,maxFeePerGas:a,gas:o,to:i,value:c,data:u,accessList:f,authorizationList:d,...t.length>9?{v:l,r:p,s:h}:{}},serializedTransaction:e,type:"eip7702"});const m={chainId:O(n),type:"eip7702"};return k(i)&&i!=="0x"&&(m.to=i),k(o)&&o!=="0x"&&(m.gas=R(o)),k(u)&&u!=="0x"&&(m.data=u),k(s)&&s!=="0x"&&(m.nonce=O(s)),k(c)&&c!=="0x"&&(m.value=R(c)),k(a)&&a!=="0x"&&(m.maxFeePerGas=R(a)),k(r)&&r!=="0x"&&(m.maxPriorityFeePerGas=R(r)),f.length!==0&&f!=="0x"&&(m.accessList=ts(f)),d.length!==0&&d!=="0x"&&(m.authorizationList=_0(d)),Ei(m),{...t.length===13?Wt(t):void 0,...m}}function P0(e){const t=es(e),n=t.length===4,s=n?t[0]:t,r=n?t.slice(1):[],[a,o,i,c,u,f,d,l,p,h,m,y,b,g]=s,[w,P,x]=r;if(!(s.length===11||s.length===14))throw new wt({attributes:{chainId:a,nonce:o,maxPriorityFeePerGas:i,maxFeePerGas:c,gas:u,to:f,value:d,data:l,accessList:p,...s.length>9?{v:y,r:b,s:g}:{}},serializedTransaction:e,type:"eip4844"});const v={blobVersionedHashes:m,chainId:O(a),type:"eip4844"};return k(f)&&f!=="0x"&&(v.to=f),k(u)&&u!=="0x"&&(v.gas=R(u)),k(l)&&l!=="0x"&&(v.data=l),k(o)&&o!=="0x"&&(v.nonce=O(o)),k(d)&&d!=="0x"&&(v.value=R(d)),k(h)&&h!=="0x"&&(v.maxFeePerBlobGas=R(h)),k(c)&&c!=="0x"&&(v.maxFeePerGas=R(c)),k(i)&&i!=="0x"&&(v.maxPriorityFeePerGas=R(i)),p.length!==0&&p!=="0x"&&(v.accessList=ts(p)),w&&P&&x&&(v.sidecars=Hn({blobs:w,commitments:P,proofs:x})),Ti(v),{...s.length===14?Wt(s):void 0,...v}}function E0(e){const t=es(e),[n,s,r,a,o,i,c,u,f,d,l,p]=t;if(!(t.length===9||t.length===12))throw new wt({attributes:{chainId:n,nonce:s,maxPriorityFeePerGas:r,maxFeePerGas:a,gas:o,to:i,value:c,data:u,accessList:f,...t.length>9?{v:d,r:l,s:p}:{}},serializedTransaction:e,type:"eip1559"});const h={chainId:O(n),type:"eip1559"};return k(i)&&i!=="0x"&&(h.to=i),k(o)&&o!=="0x"&&(h.gas=R(o)),k(u)&&u!=="0x"&&(h.data=u),k(s)&&s!=="0x"&&(h.nonce=O(s)),k(c)&&c!=="0x"&&(h.value=R(c)),k(a)&&a!=="0x"&&(h.maxFeePerGas=R(a)),k(r)&&r!=="0x"&&(h.maxPriorityFeePerGas=R(r)),f.length!==0&&f!=="0x"&&(h.accessList=ts(f)),Vt(h),{...t.length===12?Wt(t):void 0,...h}}function T0(e){const t=es(e),[n,s,r,a,o,i,c,u,f,d,l]=t;if(!(t.length===8||t.length===11))throw new wt({attributes:{chainId:n,nonce:s,gasPrice:r,gas:a,to:o,value:i,data:c,accessList:u,...t.length>8?{v:f,r:d,s:l}:{}},serializedTransaction:e,type:"eip2930"});const p={chainId:O(n),type:"eip2930"};return k(o)&&o!=="0x"&&(p.to=o),k(a)&&a!=="0x"&&(p.gas=R(a)),k(c)&&c!=="0x"&&(p.data=c),k(s)&&s!=="0x"&&(p.nonce=O(s)),k(i)&&i!=="0x"&&(p.value=R(i)),k(r)&&r!=="0x"&&(p.gasPrice=R(r)),u.length!==0&&u!=="0x"&&(p.accessList=ts(u)),Ur(p),{...t.length===11?Wt(t):void 0,...p}}function I0(e){const t=qr(e,"hex"),[n,s,r,a,o,i,c,u,f]=t;if(!(t.length===6||t.length===9))throw new wt({attributes:{nonce:n,gasPrice:s,gas:r,to:a,value:o,data:i,...t.length>6?{v:c,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const d={type:"legacy"};if(k(a)&&a!=="0x"&&(d.to=a),k(r)&&r!=="0x"&&(d.gas=R(r)),k(i)&&i!=="0x"&&(d.data=i),k(n)&&n!=="0x"&&(d.nonce=O(n)),k(o)&&o!=="0x"&&(d.value=R(o)),k(s)&&s!=="0x"&&(d.gasPrice=R(s)),zr(d),t.length===6)return d;const l=k(c)&&c!=="0x"?R(c):0n;if(f==="0x"&&u==="0x")return l>0&&(d.chainId=Number(l)),d;const p=l,h=Number((p-35n)/2n);if(h>0)d.chainId=h;else if(p!==27n&&p!==28n)throw new pr({v:p});return d.v=p,d.s=f,d.r=u,d.yParity=p%2n===0n?1:0,d}function es(e){return qr(`0x${e.slice(4)}`,"hex")}function ts(e){const t=[];for(let n=0;n<e.length;n++){const[s,r]=e[n];if(!X(s,{strict:!1}))throw new ee({address:s});t.push({address:s,storageKeys:r.map(a=>bi(a)?a:le(a))})}return t}function _0(e){const t=[];for(let n=0;n<e.length;n++){const[s,r,a,o,i,c]=e[n];t.push({chainId:O(s),contractAddress:r,nonce:O(a),...Wt([o,i,c])})}return t}function Wt(e){const t=e.slice(-3),n=t[0]==="0x"||R(t[0])===0n?27n:28n;return{r:As(t[1],{size:32}),s:As(t[2],{size:32}),v:n,yParity:n===27n?0:1}}function A0(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{contractAddress:s,chainId:r,nonce:a,...o}=n;t.push([r?B(r):"0x",s,a?B(a):"0x",...Jt({},o)])}return t}function Kt(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:s,storageKeys:r}=e[n];for(let a=0;a<r.length;a++)if(r[a].length-2!==64)throw new go({storageKey:r[a]});if(!X(s,{strict:!1}))throw new ee({address:s});t.push([s,r])}return t}function _i(e,t){const n=Ir(e);return n==="eip1559"?B0(e,t):n==="eip2930"?k0(e,t):n==="eip4844"?S0(e,t):n==="eip7702"?C0(e,t):M0(e,t)}function C0(e,t){const{authorizationList:n,chainId:s,gas:r,nonce:a,to:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Ei(e);const l=Kt(f),p=A0(n);return de(["0x04",ce([B(s),a?B(a):"0x",u?B(u):"0x",c?B(c):"0x",r?B(r):"0x",o??"0x",i?B(i):"0x",d??"0x",l,p,...Jt(e,t)])])}function S0(e,t){const{chainId:n,gas:s,nonce:r,to:a,value:o,maxFeePerBlobGas:i,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Ti(e);let l=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof p>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(v=>j(v)),P=e.kzg,x=Un({blobs:w,kzg:P});if(typeof l>"u"&&(l=Er({commitments:x})),typeof p>"u"){const v=zn({blobs:w,commitments:x,kzg:P});p=Hn({blobs:w,commitments:x,proofs:v})}}const h=Kt(f),m=[B(n),r?B(r):"0x",u?B(u):"0x",c?B(c):"0x",s?B(s):"0x",a??"0x",o?B(o):"0x",d??"0x",h,i?B(i):"0x",l??[],...Jt(e,t)],y=[],b=[],g=[];if(p)for(let w=0;w<p.length;w++){const{blob:P,commitment:x,proof:v}=p[w];y.push(P),b.push(x),g.push(v)}return de(["0x03",ce(p?[m,y,b,g]:m)])}function B0(e,t){const{chainId:n,gas:s,nonce:r,to:a,value:o,maxFeePerGas:i,maxPriorityFeePerGas:c,accessList:u,data:f}=e;Vt(e);const d=Kt(u),l=[B(n),r?B(r):"0x",c?B(c):"0x",i?B(i):"0x",s?B(s):"0x",a??"0x",o?B(o):"0x",f??"0x",d,...Jt(e,t)];return de(["0x02",ce(l)])}function k0(e,t){const{chainId:n,gas:s,data:r,nonce:a,to:o,value:i,accessList:c,gasPrice:u}=e;Ur(e);const f=Kt(c),d=[B(n),a?B(a):"0x",u?B(u):"0x",s?B(s):"0x",o??"0x",i?B(i):"0x",r??"0x",f,...Jt(e,t)];return de(["0x01",ce(d)])}function M0(e,t){const{chainId:n=0,gas:s,data:r,nonce:a,to:o,value:i,gasPrice:c}=e;zr(e);let u=[a?B(a):"0x",c?B(c):"0x",s?B(s):"0x",o??"0x",i?B(i):"0x",r??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new pr({v:t.v});return p})(),d=le(t.r),l=le(t.s);u=[...u,B(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,B(n),"0x","0x"]);return ce(u)}function Jt(e,t){const n=t??e,{v:s,yParity:r}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof s>"u"&&typeof r>"u")return[];const a=le(n.r),o=le(n.s);return[typeof r=="number"?r?B(1):"0x":s===0n?"0x":s===1n?B(1):s===27n?"0x":B(1),a==="0x00"?"0x":a,o==="0x00"?"0x":o]}class Ai extends E{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Hr(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Ai({value:e});let[n,s="0"]=e.split(".");const r=n.startsWith("-");if(r&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>t){const[a,o,i]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],c=Math.round(+`${o}.${i}`);c>9?s=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):s=`${a}${c}`,s.length>t&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${r?"-":""}${n}${s}`)}function R0(e,t="wei"){return Hr(e,dr[t])}function F0(e,t="wei"){return Hr(e,fr[t])}function Ci(e){const{source:t}=e,n=new Map,s=new Zs(8192),r=new Map,a=({address:o,chainId:i})=>`${o}.${i}`;return{async consume({address:o,chainId:i,client:c}){const u=a({address:o,chainId:i}),f=this.get({address:o,chainId:i,client:c});this.increment({address:o,chainId:i});const d=await f;return await t.set({address:o,chainId:i},d),s.set(u,d),d},async increment({address:o,chainId:i}){const c=a({address:o,chainId:i}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:i,client:c}){const u=a({address:o,chainId:i});let f=r.get(u);return f||(f=(async()=>{try{const l=await t.get({address:o,chainId:i,client:c}),p=s.get(u)??0;return p>0&&l<=p?p+1:(s.delete(u),l)}finally{this.reset({address:o,chainId:i})}})(),r.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:i}){const c=a({address:o,chainId:i});n.delete(c),r.delete(c)}}}function N0(){return{async get(e){const{address:t,client:n}=e;return xr(n,{address:t,blockTag:"pending"})},set(){}}}const $0=Ci({source:N0()});function L0(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function O0(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?O(e.nonce):void 0,storageProof:e.storageProof?L0(e.storageProof):void 0}}async function j0(e,{address:t,blockNumber:n,blockTag:s,storageKeys:r}){const a=s??"latest",o=n!==void 0?_(n):void 0,i=await e.request({method:"eth_getProof",params:[t,r,o||a]});return O0(i)}async function G0(e,{address:t,blockNumber:n,blockTag:s="latest",slot:r}){const a=n!==void 0?_(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,r,a||s]})}async function Vr(e,{blockHash:t,blockNumber:n,blockTag:s,hash:r,index:a}){var f,d,l;const o=s||"latest",i=n!==void 0?_(n):void 0;let c=null;if(r?c=await e.request({method:"eth_getTransactionByHash",params:[r]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,_(a)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,_(a)]},{dedupe:!!i}),!c)throw new hr({blockHash:t,blockNumber:n,blockTag:o,hash:r,index:a});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||qn)(c)}async function q0(e,{hash:t,transactionReceipt:n}){const[s,r]=await Promise.all([C(e,Ut,"getBlockNumber")({}),t?C(e,Vr,"getTransaction")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(r==null?void 0:r.blockNumber);return a?s-a+1n:0n}async function Gs(e,{hash:t}){var r,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new mr({hash:t});return(((o=(a=(r=e.chain)==null?void 0:r.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Gr)(n)}async function D0(e,t){var y;const{allowFailure:n=!0,batchSize:s,blockNumber:r,blockTag:a,multicallAddress:o,stateOverride:i}=t,c=t.contracts,u=s??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=o;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Ve({blockNumber:r,chain:e.chain,contract:"multicall3"})}const d=[[]];let l=0,p=0;for(let b=0;b<c.length;b++){const{abi:g,address:w,args:P,functionName:x}=c[b];try{const v=re({abi:g,args:P,functionName:x});p+=(v.length-2)/2,u>0&&p>u&&d[l].length>0&&(l++,p=(v.length-2)/2,d[l]=[]),d[l]=[...d[l],{allowFailure:!0,callData:v,target:w}]}catch(v){const T=Se(v,{abi:g,address:w,args:P,docsPath:"/docs/contract/multicall",functionName:x});if(!n)throw T;d[l]=[...d[l],{allowFailure:!0,callData:"0x",target:w}]}}const h=await Promise.allSettled(d.map(b=>C(e,ye,"readContract")({abi:En,address:f,args:[b],blockNumber:r,blockTag:a,functionName:"aggregate3",stateOverride:i}))),m=[];for(let b=0;b<h.length;b++){const g=h[b];if(g.status==="rejected"){if(!n)throw g.reason;for(let P=0;P<d[b].length;P++)m.push({status:"failure",error:g.reason,result:void 0});continue}const w=g.value;for(let P=0;P<w.length;P++){const{returnData:x,success:v}=w[P],{callData:T}=d[b][P],{abi:I,address:A,functionName:F,args:M}=c[m.length];try{if(T==="0x")throw new bt;if(!v)throw new Ft({data:x});const N=Ne({abi:I,args:M,data:x,functionName:F});m.push(n?{result:N,status:"success"}:N)}catch(N){const $=Se(N,{abi:I,address:A,args:M,docsPath:"/docs/contract/multicall",functionName:F});if(!n)throw $;m.push({error:$,result:void 0,status:"failure"})}}}if(m.length!==c.length)throw new E("multicall results mismatch");return m}async function qs(e,t){const{blockNumber:n,blockTag:s="latest",blocks:r,returnFullTransactions:a,traceTransfers:o,validation:i}=t;try{const c=[];for(const l of r){const p=l.blockOverrides?_u(l.blockOverrides):void 0,h=l.calls.map(y=>{const b=y,g=b.account?z(b.account):void 0,w={...b,data:b.abi?re(b):b.data,from:b.from??(g==null?void 0:g.address)};return Re(w),we(w)}),m=l.stateOverrides?br(l.stateOverrides):void 0;c.push({blockOverrides:p,calls:h,stateOverrides:m})}const f=(n?_(n):void 0)||s;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:o,validation:i},f]})).map((l,p)=>({...Dn(l),calls:l.calls.map((h,m)=>{var F,M;const{abi:y,args:b,functionName:g,to:w}=r[p].calls[m],P=((F=h.error)==null?void 0:F.data)??h.returnData,x=BigInt(h.gasUsed),v=(M=h.logs)==null?void 0:M.map(N=>me(N)),T=h.status==="0x1"?"success":"failure",I=y&&T==="success"&&P!=="0x"?Ne({abi:y,data:P,functionName:g}):null,A=(()=>{var $;if(T==="success")return;let N;if((($=h.error)==null?void 0:$.data)==="0x"?N=new bt:h.error&&(N=new Ft(h.error)),!!N)return Se(N,{abi:y??[],address:w,args:b,functionName:g??"<unknown>"})})();return{data:P,gasUsed:x,logs:v,status:T,...T==="success"?{result:I}:{error:A}}})}))}catch(c){const u=c,f=On(u,{});throw f instanceof vt?u:f}}const Si="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",oe="0x0000000000000000000000000000000000000000",U0="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function z0(e,t){const{blockNumber:n,blockTag:s,calls:r,stateOverrides:a,traceAssetChanges:o,traceTransfers:i,validation:c}=t,u=t.account?z(t.account):void 0;if(o&&!u)throw new E("`account` is required when `traceAssetChanges` is true");const f=u?vu(xu("constructor(bytes, bytes)"),{bytecode:Sr,args:[U0,Pu(We("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(t.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:L}=await ci(e,{account:u.address,...S,data:S.abi?re(S):S.data});return L.map(({address:ve,storageKeys:xe})=>xe.length>0?ve:null)})).then(S=>S.flat().filter(Boolean)):[],l=a==null?void 0:a.map(S=>S.address===(u==null?void 0:u.address)?{...S,nonce:0}:S),p=await qs(e,{blockNumber:n,blockTag:s,blocks:[...o?[{calls:[{data:f}],stateOverrides:a},{calls:d.map((S,L)=>({abi:[We("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:oe,nonce:L})),stateOverrides:[{address:oe,nonce:0}]}]:[],{calls:[...r,{}].map((S,L)=>({...S,from:u==null?void 0:u.address,nonce:L})),stateOverrides:l},...o?[{calls:[{data:f}]},{calls:d.map((S,L)=>({abi:[We("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:oe,nonce:L})),stateOverrides:[{address:oe,nonce:0}]},{calls:d.map((S,L)=>({to:S,abi:[We("function decimals() returns (uint256)")],functionName:"decimals",from:oe,nonce:L})),stateOverrides:[{address:oe,nonce:0}]},{calls:d.map((S,L)=>({to:S,abi:[We("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:oe,nonce:L})),stateOverrides:[{address:oe,nonce:0}]},{calls:d.map((S,L)=>({to:S,abi:[We("function symbol() returns (string)")],functionName:"symbol",from:oe,nonce:L})),stateOverrides:[{address:oe,nonce:0}]}]:[]],traceTransfers:i,validation:c}),h=o?p[2]:p[0],[m,y,,b,g,w,P,x]=o?p:[],{calls:v,...T}=h,I=v.slice(0,-1)??[],A=(m==null?void 0:m.calls)??[],F=(y==null?void 0:y.calls)??[],M=[...A,...F].map(S=>S.status==="success"?R(S.data):null),N=(b==null?void 0:b.calls)??[],$=(g==null?void 0:g.calls)??[],Z=[...N,...$].map(S=>S.status==="success"?R(S.data):null),H=((w==null?void 0:w.calls)??[]).map(S=>S.status==="success"?S.result:null),D=((x==null?void 0:x.calls)??[]).map(S=>S.status==="success"?S.result:null),Y=((P==null?void 0:P.calls)??[]).map(S=>S.status==="success"?S.result:null),U=[];for(const[S,L]of Z.entries()){const ve=M[S];if(typeof L!="bigint"||typeof ve!="bigint")continue;const xe=H[S-1],qi=D[S-1],Di=Y[S-1],Yr=S===0?{address:Si,decimals:18,symbol:"ETH"}:{address:d[S-1],decimals:Di||xe?Number(xe??1):void 0,symbol:qi??void 0};U.some(Ui=>Ui.token.address===Yr.address)||U.push({token:Yr,value:{pre:ve,post:L,diff:L-ve}})}return{assetChanges:U,block:T,results:I}}function Ds({r:e,s:t,to:n="hex",v:s,yParity:r}){const a=(()=>{if(r===0||r===1)return r;if(s&&(s===27n||s===28n||s>=35n))return s%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Fn.Signature(R(e),R(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:J(o)}async function Wr(e,t){var d,l,p;const{address:n,factory:s,factoryData:r,hash:a,signature:o,universalSignatureVerifierAddress:i=(p=(l=(d=e.chain)==null?void 0:d.contracts)==null?void 0:l.universalSignatureVerifier)==null?void 0:p.address,...c}=t,u=k(o)?o:typeof o=="object"&&"r"in o&&"s"in o?Ds(o):j(o),f=await(async()=>!s&&!r||Dr(u)?u:xi({address:s,data:r,signature:u}))();try{const h=i?{to:i,data:re({abi:$s,functionName:"isValidSig",args:[n,a,f]}),...c}:{data:Gt({abi:$s,args:[n,a,f],bytecode:Vo}),...c},{data:m}=await C(e,qt,"call")(h);return Va(m??"0x0")}catch(h){try{if(Fe(pe(n),await He({hash:a,signature:o})))return!0}catch{}if(h instanceof yr)return!1;throw h}}async function H0(e,{address:t,message:n,factory:s,factoryData:r,signature:a,...o}){const i=Rn(n);return Wr(e,{address:t,factory:s,factoryData:r,hash:i,signature:a,...o})}async function V0(e,t){const{address:n,factory:s,factoryData:r,signature:a,message:o,primaryType:i,types:c,domain:u,...f}=t,d=Ys({message:o,primaryType:i,types:c,domain:u});return Wr(e,{address:n,factory:s,factoryData:r,hash:d,signature:a,...f})}function Bi(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:s,onError:r,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return i?(()=>{const d=q(["watchBlockNumber",e.uid,t,n,o]);return ke(d,{onBlockNumber:s,onError:r},l=>Dt(async()=>{var p;try{const h=await C(e,Ut,"getBlockNumber")({cacheTime:0});if(c){if(h===c)return;if(h-c>1&&n)for(let m=c+1n;m<h;m++)l.onBlockNumber(m,c),c=m}(!c||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){(p=l.onError)==null||p.call(l,h)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=q(["watchBlockNumber",e.uid,t,n]);return ke(d,{onBlockNumber:s,onError:r},l=>{let p=!0,h=()=>p=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(g=>g.config.type==="webSocket");return b?b.value:e.transport}return e.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(b){var w;if(!p)return;const g=R((w=b.result)==null?void 0:w.number);l.onBlockNumber(g,c),c=g},onError(b){var g;(g=l.onError)==null||g.call(l,b)}});h=y,p||h()}catch(m){r==null||r(m)}})(),()=>h()})})()}async function W0(e,{confirmations:t=1,hash:n,onReplaced:s,pollingInterval:r=e.pollingInterval,retryCount:a=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:i=18e4}){const c=q(["waitForTransactionReceipt",e.uid,n]);let u,f,d,l=!1;const{promise:p,resolve:h,reject:m}=Zo(),y=i?setTimeout(()=>m(new vo({hash:n})),i):void 0,b=ke(c,{onReplaced:s,resolve:h,reject:m},g=>{const w=C(e,Bi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:r,async onBlockNumber(P){const x=T=>{clearTimeout(y),w(),T(),b()};let v=P;if(!l)try{if(d){if(t>1&&(!d.blockNumber||v-d.blockNumber+1n<t))return;x(()=>g.resolve(d));return}if(u||(l=!0,await _n(async()=>{u=await C(e,Vr,"getTransaction")({hash:n}),u.blockNumber&&(v=u.blockNumber)},{delay:o,retryCount:a}),l=!1),d=await C(e,Gs,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||v-d.blockNumber+1n<t))return;x(()=>g.resolve(d))}catch(T){if(T instanceof hr||T instanceof mr){if(!u){l=!1;return}try{f=u,l=!0;const I=await _n(()=>C(e,fe,"getBlock")({blockNumber:v,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:M})=>M instanceof gr});l=!1;const A=I.transactions.find(({from:M,nonce:N})=>M===f.from&&N===f.nonce);if(!A||(d=await C(e,Gs,"getTransactionReceipt")({hash:A.hash}),t>1&&(!d.blockNumber||v-d.blockNumber+1n<t)))return;let F="replaced";A.to===f.to&&A.value===f.value&&A.input===f.input?F="repriced":A.from===A.to&&A.value===0n&&(F="cancelled"),x(()=>{var M;(M=g.onReplaced)==null||M.call(g,{reason:F,replacedTransaction:f,transaction:A,transactionReceipt:d}),g.resolve(d)})}catch(I){x(()=>g.reject(I))}}else x(()=>g.reject(T))}}})});return p}function K0(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:s=!1,onBlock:r,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),f=o??!1;let d;return u?(()=>{const h=q(["watchBlocks",e.uid,t,n,s,f,c]);return ke(h,{onBlock:r,onError:a},m=>Dt(async()=>{var y;try{const b=await C(e,fe,"getBlock")({blockTag:t,includeTransactions:f});if(b.number&&(d!=null&&d.number)){if(b.number===d.number)return;if(b.number-d.number>1&&n)for(let g=(d==null?void 0:d.number)+1n;g<b.number;g++){const w=await C(e,fe,"getBlock")({blockNumber:g,includeTransactions:f});m.onBlock(w,d),d=w}}(!(d!=null&&d.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>d.number)&&(m.onBlock(b,d),d=b)}catch(b){(y=m.onError)==null||y.call(m,b)}},{emitOnBegin:s,interval:c}))})():(()=>{let h=!0,m=!0,y=()=>h=!1;return(async()=>{try{s&&C(e,fe,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{h&&m&&(r(w,void 0),m=!1)});const b=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(P=>P.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],async onData(w){if(!h)return;const P=await C(e,fe,"getBlock")({blockNumber:w.blockNumber,includeTransactions:f}).catch(()=>{});h&&(r(P,d),m=!1,d=P)},onError(w){a==null||a(w)}});y=g,h||y()}catch(b){a==null||a(b)}})(),()=>y()})()}function J0(e,{address:t,args:n,batch:s=!0,event:r,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),p=d??!1;return l?(()=>{const y=q(["watchEvent",t,n,s,e.uid,r,f,o]);return ke(y,{onLogs:c,onError:i},b=>{let g;o!==void 0&&(g=o-1n);let w,P=!1;const x=Dt(async()=>{var v;if(!P){try{w=await C(e,ui,"createEventFilter")({address:t,args:n,event:r,events:a,strict:p,fromBlock:o})}catch{}P=!0;return}try{let T;if(w)T=await C(e,Jn,"getFilterChanges")({filter:w});else{const I=await C(e,Ut,"getBlockNumber")({});g&&g!==I?T=await C(e,Ar,"getLogs")({address:t,args:n,event:r,events:a,fromBlock:g+1n,toBlock:I}):T=[],g=I}if(T.length===0)return;if(s)b.onLogs(T);else for(const I of T)b.onLogs([I])}catch(T){w&&T instanceof Ce&&(P=!1),(v=b.onError)==null||v.call(b,T)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await C(e,Zn,"uninstallFilter")({filter:w}),x()}})})():(()=>{let y=!0,b=()=>y=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(T=>T.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),w=a??(r?[r]:void 0);let P=[];w&&(P=[w.flatMap(T=>gt({abi:[T],eventName:T.name,args:n}))],r&&(P=P[0]));const{unsubscribe:x}=await g.subscribe({params:["logs",{address:t,topics:P}],onData(v){var I;if(!y)return;const T=v.result;try{const{eventName:A,args:F}=Wn({abi:w??[],data:T.data,topics:T.topics,strict:p}),M=me(T,{args:F,eventName:A});c([M])}catch(A){let F,M;if(A instanceof Xe||A instanceof Mt){if(d)return;F=A.abiItem.name,M=(I=A.abiItem.inputs)==null?void 0:I.some($=>!("name"in $&&$.name))}const N=me(T,{args:M?[]:{},eventName:F});c([N])}},onError(v){i==null||i(v)}});b=x,y||b()}catch(g){i==null||i(g)}})(),()=>b()})()}function Z0(e,{batch:t=!0,onError:n,onTransactions:s,poll:r,pollingInterval:a=e.pollingInterval}){return(typeof r<"u"?r:e.transport.type!=="webSocket")?(()=>{const u=q(["watchPendingTransactions",e.uid,t,a]);return ke(u,{onTransactions:s,onError:n},f=>{let d;const l=Dt(async()=>{var p;try{if(!d)try{d=await C(e,di,"createPendingTransactionFilter")({});return}catch(m){throw l(),m}const h=await C(e,Jn,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const m of h)f.onTransactions([m])}catch(h){(p=f.onError)==null||p.call(f,h)}},{emitOnBegin:!0,interval:a});return async()=>{d&&await C(e,Zn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const p=l.result;s([p])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function Y0(e){var d,l,p;const{scheme:t,statement:n,...s}=((d=e.match(Q0))==null?void 0:d.groups)??{},{chainId:r,expirationTime:a,issuedAt:o,notBefore:i,requestId:c,...u}=((l=e.match(X0))==null?void 0:l.groups)??{},f=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...s,...u,...r?{chainId:Number(r)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Q0=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,X0=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ep(e){const{address:t,domain:n,message:s,nonce:r,scheme:a,time:o=new Date}=e;if(n&&s.domain!==n||r&&s.nonce!==r||a&&s.scheme!==a||s.expirationTime&&o>=s.expirationTime||s.notBefore&&o<s.notBefore)return!1;try{if(!s.address||t&&!Fe(s.address,t))return!1}catch{return!1}return!0}async function tp(e,t){const{address:n,domain:s,message:r,nonce:a,scheme:o,signature:i,time:c=new Date,...u}=t,f=Y0(r);if(!f.address||!ep({address:n,domain:s,message:f,nonce:a,scheme:o,time:c}))return!1;const l=Rn(r);return Wr(e,{address:f.address,hash:l,signature:i,...u})}function ki(e){return{call:t=>qt(e,t),createAccessList:t=>ci(e,t),createBlockFilter:()=>Wl(e),createContractEventFilter:t=>ar(e,t),createEventFilter:t=>ui(e,t),createPendingTransactionFilter:()=>di(e),estimateContractGas:t=>Do(e,t),estimateGas:t=>_r(e,t),getBalance:t=>qo(e,t),getBlobBaseFee:()=>Kl(e),getBlock:t=>fe(e,t),getBlockNumber:t=>Ut(e,t),getBlockTransactionCount:t=>Jl(e,t),getBytecode:t=>ga(e,t),getChainId:()=>Ot(e),getCode:t=>ga(e,t),getContractEvents:t=>Cr(e,t),getEip712Domain:t=>gl(e,t),getEnsAddress:t=>Ml(e,t),getEnsAvatar:t=>zl(e,t),getEnsName:t=>Hl(e,t),getEnsResolver:t=>Vl(e,t),getEnsText:t=>ii(e,t),getFeeHistory:t=>Yl(e,t),estimateFeesPerGas:t=>Vf(e,t),getFilterChanges:t=>Jn(e,t),getFilterLogs:t=>Ql(e,t),getGasPrice:()=>vr(e),getLogs:t=>Ar(e,t),getProof:t=>j0(e,t),estimateMaxPriorityFeePerGas:t=>Hf(e,t),getStorageAt:t=>G0(e,t),getTransaction:t=>Vr(e,t),getTransactionConfirmations:t=>q0(e,t),getTransactionCount:t=>xr(e,t),getTransactionReceipt:t=>Gs(e,t),multicall:t=>D0(e,t),prepareTransactionRequest:t=>Vn(e,t),readContract:t=>ye(e,t),sendRawTransaction:t=>Rr(e,t),simulate:t=>qs(e,t),simulateBlocks:t=>qs(e,t),simulateCalls:t=>z0(e,t),simulateContract:t=>Yo(e,t),verifyMessage:t=>H0(e,t),verifySiweMessage:t=>tp(e,t),verifyTypedData:t=>V0(e,t),uninstallFilter:t=>Zn(e,t),waitForTransactionReceipt:t=>W0(e,t),watchBlocks:t=>K0(e,t),watchBlockNumber:t=>Bi(e,t),watchContractEvent:t=>Qo(e,t),watchEvent:t=>J0(e,t),watchPendingTransactions:t=>Z0(e,t)}}function np(e){const{key:t="public",name:n="Public Client"}=e;return Yn({...e,key:t,name:n,type:"publicClient"}).extend(ki)}async function sp(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function rp(e){return e.request({method:`${e.mode}_dumpState`})}async function ap(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function op(e){return await e.request({method:"txpool_content"})}async function ip(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:O(t),queued:O(n)}}async function cp(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function up(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[_(t)]})}async function dp(e){return await e.request({method:"txpool_inspect"})}async function fp(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function lp(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:_(t)}]}):await e.request({method:`${e.mode}_mine`,params:[_(t),_(n||0)]})}async function pp(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function hp(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function mp(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function yp(e,t){var b,g,w;const{accessList:n,data:s,from:r,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:f,value:d,...l}=t,p=(w=(g=(b=e.chain)==null?void 0:b.formatters)==null?void 0:g.transactionRequest)==null?void 0:w.format,m=(p||we)({...$t(l,{format:p}),accessList:n,data:s,from:r,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:f,value:d});return await e.request({method:"eth_sendUnsignedTransaction",params:[m]})}async function bp(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function gp(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,_(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,_(n)]})}async function wp(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[_(t)]})}async function vp(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function xp(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function Pp(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function Ep(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function Tp(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function Ip(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[_(t)]})}async function _p(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[_(t)]})}async function Ap(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[_(t)]})}async function Cp(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,_(n)]})}async function Sp(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Bp(e,{address:t,index:n,value:s}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?_(n):n,s]})}async function kp(e){return await e.request({method:"evm_snapshot"})}async function Mp(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function Mi({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:s=>sp(n,s),dumpState:()=>rp(n),getAutomine:()=>ap(n),getTxpoolContent:()=>op(n),getTxpoolStatus:()=>ip(n),impersonateAccount:s=>cp(n,s),increaseTime:s=>up(n,s),inspectTxpool:()=>dp(n),loadState:s=>fp(n,s),mine:s=>lp(n,s),removeBlockTimestampInterval:()=>pp(n),reset:s=>hp(n,s),revert:s=>mp(n,s),sendUnsignedTransaction:s=>yp(n,s),setAutomine:s=>bp(n,s),setBalance:s=>gp(n,s),setBlockGasLimit:s=>wp(n,s),setBlockTimestampInterval:s=>vp(n,s),setCode:s=>xp(n,s),setCoinbase:s=>Pp(n,s),setIntervalMining:s=>Ep(n,s),setLoggingEnabled:s=>Tp(n,s),setMinGasPrice:s=>Ip(n,s),setNextBlockBaseFeePerGas:s=>_p(n,s),setNextBlockTimestamp:s=>Ap(n,s),setNonce:s=>Cp(n,s),setRpcUrl:s=>Sp(n,s),setStorageAt:s=>Bp(n,s),snapshot:()=>kp(n),stopImpersonatingAccount:s=>Mp(n,s)}}}function Rp(e){const{key:t="test",name:n="Test Client",mode:s}=e;return Yn({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:s,...Mi({mode:s})(a)}))}function Fp(e,t){const{abi:n,args:s,bytecode:r,...a}=t,o=Gt({abi:n,args:s,bytecode:r});return Fr(e,{...a,...a.authorizationList?{to:null}:{},data:o})}async function Np(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(s=>Bn(s))}async function $p(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Lp(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>pe(n))}async function Op(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function jp(e,{account:t=e.account,message:n}){if(!t)throw new zt({docsPath:"/docs/actions/wallet/signMessage"});const s=z(t);if(s.signMessage)return s.signMessage({message:n});const r=typeof n=="string"?kn(n):n.raw instanceof Uint8Array?B(n.raw):n.raw;return e.request({method:"personal_sign",params:[r,s.address]},{retryCount:0})}async function Gp(e,t){var u,f,d,l;const{account:n=e.account,chain:s=e.chain,...r}=t;if(!n)throw new zt({docsPath:"/docs/actions/wallet/signTransaction"});const a=z(n);Re({account:a,...t});const o=await C(e,Ot,"getChainId")({});s!==null&&Mr({currentChainId:o,chain:s});const i=(s==null?void 0:s.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((f=i==null?void 0:i.transactionRequest)==null?void 0:f.format)||we;return a.signTransaction?a.signTransaction({...r,chainId:o},{serializer:(l=(d=e.chain)==null?void 0:d.serializers)==null?void 0:l.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(r),chainId:_(o),from:a.address}]},{retryCount:0})}async function qp(e,t){const{account:n=e.account,domain:s,message:r,primaryType:a}=t;if(!n)throw new zt({docsPath:"/docs/actions/wallet/signTypedData"});const o=z(n),i={EIP712Domain:Wa({domain:s}),...t.types};if(Ka({domain:s,message:r,primaryType:a,types:i}),o.signTypedData)return o.signTypedData({domain:s,message:r,primaryType:a,types:i});const c=Ja({domain:s,message:r,primaryType:a,types:i});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Dp(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:_(t)}]},{retryCount:0})}async function Up(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Ri(e){return{addChain:t=>vl(e,t),deployContract:t=>Fp(e,t),getAddresses:()=>Np(e),getChainId:()=>Ot(e),getPermissions:()=>$p(e),prepareTransactionRequest:t=>Vn(e,t),requestAddresses:()=>Lp(e),requestPermissions:t=>Op(e,t),sendRawTransaction:t=>Rr(e,t),sendTransaction:t=>Fr(e,t),signMessage:t=>jp(e,t),signTransaction:t=>Gp(e,t),signTypedData:t=>qp(e,t),switchChain:t=>Dp(e,t),watchAsset:t=>Up(e,t),writeContract:t=>Xo(e,t)}}function zp(e){const{key:t="wallet",name:n="Wallet Client",transport:s}=e;return Yn({...e,key:t,name:n,transport:s,type:"walletClient"}).extend(Ri)}function Hp(e,t={}){const{keepAlive:n,key:s="webSocket",methods:r,name:a="WebSocket JSON-RPC",reconnect:o,retryDelay:i}=t;return({chain:c,retryCount:u,timeout:f})=>{var h;const d=t.retryCount??u,l=f??t.timeout??1e4,p=e||((h=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:h[0]);if(!p)throw new Nr;return Ht({key:s,methods:r,name:a,async request({method:m,params:y}){const b={method:m,params:y},g=await dn(p,{keepAlive:n,reconnect:o}),{error:w,result:P}=await g.requestAsync({body:b,timeout:l});if(w)throw new Nt({body:b,error:w,url:p});return P},retryCount:d,retryDelay:i,timeout:l,type:"webSocket"},{getSocket(){return o0(p)},getRpcClient(){return dn(p)},async subscribe({params:m,onData:y,onError:b}){const g=await dn(p),{result:w}=await new Promise((P,x)=>g.request({body:{method:"eth_subscribe",params:m},onError(v){x(v),b==null||b(v)},onResponse(v){if(v.error){x(v.error),b==null||b(v.error);return}if(typeof v.id=="number"){P(v);return}v.method==="eth_subscription"&&y(v.params)}}));return{subscriptionId:w,async unsubscribe(){return new Promise(P=>g.request({body:{method:"eth_unsubscribe",params:[w]},onResponse:P}))}}}})}}class Vp extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const xs="/docs/contract/decodeDeployData";function Wp(e){const{abi:t,bytecode:n,data:s}=e;if(s===n)return{bytecode:n};const r=t.find(o=>"type"in o&&o.type==="constructor");if(!r)throw new Js({docsPath:xs});if(!("inputs"in r))throw new At({docsPath:xs});if(!r.inputs||r.inputs.length===0)throw new At({docsPath:xs});return{args:Me(r.inputs,`0x${s.replace(n,"")}`),bytecode:n}}function Kp({r:e,yParityAndS:t}){const n=J(t),s=n[0]&128?1:0,r=n;return s===1&&(r[0]&=127),{r:e,s:j(r),yParity:s}}function va(e){const{r:t,s:n}=Fn.Signature.fromCompact(e.slice(2,130));return{r:_(t,{size:32}),yParityAndS:_(n,{size:32})}}function xa(e){const{r:t,s:n}=Fn.Signature.fromCompact(e.slice(2,130)),s=+`0x${e.slice(130)}`,[r,a]=(()=>{if(s===0||s===1)return[void 0,s];if(s===27)return[BigInt(s),0];if(s===28)return[BigInt(s),1];throw new Error("Invalid yParityOrV value")})();return typeof r<"u"?{r:_(t,{size:32}),s:_(n,{size:32}),v:r,yParity:a}:{r:_(t,{size:32}),s:_(n,{size:32}),yParity:a}}async function Jp(e){const{serializedTransaction:t,signature:n}=e,s=Ii(t),r=n??{r:s.r,s:s.s,v:s.v,yParity:s.yParity},a=_i({...s,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await He({hash:se(a),signature:r})}function Zp(e){const{r:t,s:n,v:s,yParity:r}=e,a=Number(r??s-27n);let o=n;if(a===1){const i=J(n);i[0]|=128,o=j(i)}return{r:t,yParityAndS:o}}function Pa({r:e,yParityAndS:t}){return`0x${new Fn.Signature(R(e),R(t)).toCompactHex()}`}function Yp(e){const{sidecars:t,version:n}=e,s=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),r=[];for(const{commitment:a}of t)r.push(Pr({commitment:a,to:s,version:n}));return r}function Qp(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(i=>J(i)):e.blobs,s=n.reduce((i,c)=>i+c.length,0),r=tt(new Uint8Array(s));let a=!0;for(const i of n){const c=tt(i);for(;a&&c.position<i.length;){c.incrementPosition(1);let u=31;i.length-c.position<31&&(u=i.length-c.position);for(const f in Array.from({length:u})){const d=c.readByte();if(d===128&&!c.inspectBytes(c.remaining).includes(128)){a=!1;break}r.pushByte(d)}}}const o=r.bytes.slice(0,r.position);return t==="hex"?j(o):o}function Fi({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function Xp(e,t){try{e.loadTrustedSetup(t)}catch(n){const s=n;if(!s.message.includes("trusted setup is already loaded"))throw s}return Fi(e)}const eh=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:Js,AbiConstructorParamsNotFoundError:At,AbiDecodingDataSizeInvalidError:cc,AbiDecodingDataSizeTooSmallError:Hs,AbiDecodingZeroDataError:bt,AbiEncodingArrayLengthMismatchError:uc,AbiEncodingBytesSizeMismatchError:dc,AbiEncodingLengthMismatchError:qa,AbiErrorInputsNotFoundError:ja,AbiErrorNotFoundError:_s,AbiErrorSignatureNotFoundError:Vs,AbiEventNotFoundError:Is,AbiEventSignatureEmptyTopicsError:La,AbiEventSignatureNotFoundError:Ws,AbiFunctionNotFoundError:_t,AbiFunctionOutputsNotFoundError:Ks,AbiFunctionSignatureNotFoundError:Oa,AccountStateConflictError:po,BaseError:E,BaseFeeScalarError:ko,BlockNotFoundError:gr,BytesSizeMismatchError:Ua,CallExecutionError:yr,ChainDisconnectedError:lt,ChainDoesNotSupportContract:Tn,ChainMismatchError:Wo,ChainNotFoundError:Ko,CircularReferenceError:zi,ClientChainNotConfiguredError:Br,ContractFunctionExecutionError:xo,ContractFunctionRevertedError:pn,ContractFunctionZeroDataError:Po,CounterfactualDeploymentFailedError:Eo,DecodeLogDataMismatch:Xe,DecodeLogTopicsMismatch:Mt,EIP1193ProviderRpcError:Vp,Eip1559FeesNotSupportedError:Gn,EnsAvatarInvalidNftUriError:Je,EnsAvatarUnsupportedNamespaceError:ri,EnsAvatarUriResolutionError:Xn,EstimateGasExecutionError:So,ExecutionRevertedError:Te,FeeCapTooHighError:Be,FeeCapTooLowError:mn,FeeConflictError:mo,FilterTypeNotSupportedError:co,HttpRequestError:Ie,InsufficientFundsError:wn,IntegerOutOfRangeError:fc,InternalRpcError:Ae,IntrinsicGasTooHighError:vn,IntrinsicGasTooLowError:xn,InvalidAbiDecodingTypeError:Na,InvalidAbiEncodingTypeError:lc,InvalidAbiItemError:Hi,InvalidAbiParameterError:ka,InvalidAbiParametersError:Ma,InvalidAbiTypeParameterError:Vi,InvalidAddressError:ee,InvalidArrayError:Ga,InvalidBytesBooleanError:Ra,InvalidChainIdError:jt,InvalidDecimalNumberError:Ai,InvalidDefinitionTypeError:pc,InvalidDomainError:hc,InvalidFunctionModifierError:Wi,InvalidHexBooleanError:mc,InvalidHexValueError:Ha,InvalidInputRpcError:Ce,InvalidLegacyVError:pr,InvalidModifierError:Ki,InvalidParameterError:Ji,InvalidParamsRpcError:at,InvalidParenthesisError:Zi,InvalidPrimaryTypeError:yc,InvalidRequestRpcError:st,InvalidSerializableTransactionError:yo,InvalidSerializedTransactionError:wt,InvalidSerializedTransactionTypeError:bo,InvalidSignatureError:Yi,InvalidStorageKeySizeError:go,InvalidStructSignatureError:Qi,InvalidStructTypeError:bc,JsonRpcVersionUnsupportedError:ct,LimitExceededRpcError:Oe,MaxFeePerGasTooLowError:Mo,MethodNotFoundRpcError:rt,MethodNotSupportedRpcError:Ee,NonceMaxValueError:gn,NonceTooHighError:yn,NonceTooLowError:bn,ParseRpcError:nt,ProviderDisconnectedError:ft,ProviderRpcError:ze,RawContractError:Ft,ResourceNotFoundRpcError:ot,ResourceUnavailableRpcError:it,RpcError:K,RpcRequestError:Nt,SizeExceedsPaddingSizeError:gc,SizeOverflowError:wc,SliceOffsetOutOfBoundsError:vc,SocketClosedError:kt,SolidityProtectedKeywordError:Xi,StateAssignmentConflictError:ho,SwitchChainError:pt,TimeoutError:hn,TipAboveFeeCapError:ht,TransactionExecutionError:wo,TransactionNotFoundError:hr,TransactionReceiptNotFoundError:mr,TransactionRejectedRpcError:Le,TransactionTypeNotSupportedError:Pn,UnauthorizedProviderError:ut,UnknownNodeError:vt,UnknownRpcError:To,UnknownSignatureError:ec,UnknownTypeError:tc,UnsupportedPackedAbiType:za,UnsupportedProviderMethodError:dt,UrlRequiredError:Nr,UserRejectedRequestError:_e,WaitForTransactionReceiptTimeoutError:vo,WebSocketRequestError:Fs,assertCurrentChain:Mr,assertRequest:Re,assertTransactionEIP1559:Vt,assertTransactionEIP2930:Ur,assertTransactionLegacy:zr,blobsToCommitments:Un,blobsToProofs:zn,boolToBytes:xc,boolToHex:Da,bytesToBigInt:or,bytesToBool:ir,bytesToHex:j,bytesToNumber:ie,bytesToRlp:Hu,bytesToString:cr,ccipFetch:An,ccipRequest:An,checksumAddress:Bn,commitmentToVersionedHash:Pr,commitmentsToVersionedHashes:Er,compactSignatureToHex:Pa,compactSignatureToSignature:Kp,concat:Mn,concatBytes:Pc,concatHex:de,createClient:Yn,createNonceManager:Ci,createPublicClient:np,createTestClient:Rp,createTransport:Ht,createWalletClient:zp,custom:Il,decodeAbiParameters:Me,decodeDeployData:Wp,decodeErrorResult:ur,decodeEventLog:Wn,decodeFunctionData:i0,decodeFunctionResult:Ne,defineBlock:zf,defineChain:s0,defineKzg:Fi,defineTransaction:Df,defineTransactionReceipt:p0,defineTransactionRequest:Yu,deploylessCallViaBytecodeBytecode:Sr,deploylessCallViaFactoryBytecode:Ho,domainSeparator:Ec,encodeAbiParameters:De,encodeDeployData:Gt,encodeErrorResult:c0,encodeEventTopics:gt,encodeFunctionData:re,encodeFunctionResult:u0,encodePacked:d0,erc20Abi:Xf,erc20Abi_bytes32:el,erc4626Abi:nl,erc721Abi:tl,ethAddress:Si,etherUnits:dr,extractChain:r0,fallback:_l,formatBlock:Dn,formatEther:Ln,formatGwei:W,formatLog:me,formatTransaction:qn,formatTransactionReceipt:Gr,formatTransactionRequest:we,formatUnits:lr,fromBlobs:Qp,fromBytes:ku,fromHex:Tc,fromRlp:qr,getAbiItem:Ge,getAddress:pe,getChainContractAddress:Ve,getContract:yl,getContractAddress:f0,getContractError:Se,getCreate2Address:mi,getCreateAddress:hi,getEventSelector:Tt,getEventSignature:Xt,getFunctionSelector:It,getFunctionSignature:Xt,getSerializedTransactionType:Pi,getTransactionType:Ir,getTypesForEIP712Domain:Wa,gweiUnits:fr,hashDomain:Ic,hashMessage:Rn,hashStruct:_c,hashTypedData:Ys,hexToBigInt:R,hexToBool:Va,hexToBytes:J,hexToCompactSignature:va,hexToNumber:O,hexToRlp:Vu,hexToSignature:xa,hexToString:Ac,http:Bl,isAddress:X,isAddressEqual:Fe,isBytes:js,isErc6492Signature:Dr,isHash:bi,isHex:k,keccak256:se,labelhash:si,maxInt104:ld,maxInt112:pd,maxInt120:hd,maxInt128:md,maxInt136:yd,maxInt144:bd,maxInt152:gd,maxInt16:td,maxInt160:wd,maxInt168:vd,maxInt176:xd,maxInt184:Pd,maxInt192:Ed,maxInt200:Td,maxInt208:Id,maxInt216:_d,maxInt224:Ad,maxInt232:Cd,maxInt24:nd,maxInt240:Sd,maxInt248:Bd,maxInt256:kd,maxInt32:sd,maxInt40:rd,maxInt48:ad,maxInt56:od,maxInt64:id,maxInt72:cd,maxInt8:ed,maxInt80:ud,maxInt88:dd,maxInt96:fd,maxUint104:Ef,maxUint112:Tf,maxUint120:If,maxUint128:_f,maxUint136:Af,maxUint144:Cf,maxUint152:Sf,maxUint16:lf,maxUint160:Bf,maxUint168:kf,maxUint176:Mf,maxUint184:Rf,maxUint192:Ff,maxUint200:Nf,maxUint208:$f,maxUint216:Lf,maxUint224:Of,maxUint232:jf,maxUint24:pf,maxUint240:Gf,maxUint248:qf,maxUint256:Lt,maxUint32:hf,maxUint40:mf,maxUint48:yf,maxUint56:bf,maxUint64:gf,maxUint72:wf,maxUint8:ff,maxUint80:vf,maxUint88:xf,maxUint96:Pf,minInt104:zd,minInt112:Hd,minInt120:Vd,minInt128:Wd,minInt136:Kd,minInt144:Jd,minInt152:Zd,minInt16:Rd,minInt160:Yd,minInt168:Qd,minInt176:Xd,minInt184:ef,minInt192:tf,minInt200:nf,minInt208:sf,minInt216:rf,minInt224:af,minInt232:of,minInt24:Fd,minInt240:cf,minInt248:uf,minInt256:df,minInt32:Nd,minInt40:$d,minInt48:Ld,minInt56:Od,minInt64:jd,minInt72:Gd,minInt8:Md,minInt80:qd,minInt88:Dd,minInt96:Ud,multicall3Abi:En,namehash:Et,nonceManager:$0,numberToBytes:Cc,numberToHex:_,offchainLookup:li,offchainLookupAbiItem:jr,offchainLookupSignature:fi,pad:Pt,padBytes:Sc,padHex:As,parseAbi:zs,parseAbiItem:Es,parseAbiParameter:zc,parseAbiParameters:Hc,parseCompactSignature:va,parseErc6492Signature:v0,parseEther:R0,parseEventLogs:Kn,parseGwei:F0,parseSignature:xa,parseTransaction:Ii,parseUnits:Hr,prepareEncodeFunctionData:Bc,presignMessagePrefix:kc,publicActions:ki,recoverAddress:He,recoverMessageAddress:gi,recoverPublicKey:Io,recoverTransactionAddress:Jp,recoverTypedDataAddress:wi,ripemd160:m0,rpcSchema:xl,rpcTransactionType:Bo,serializeAccessList:Kt,serializeCompactSignature:Pa,serializeErc6492Signature:xi,serializeSignature:Ds,serializeTransaction:_i,serializeTypedData:Ja,setErrorConfig:Mc,setupKzg:Xp,sha256:Fo,shouldThrow:ti,sidecarsToVersionedHashes:Yp,signatureToCompactSignature:Zp,signatureToHex:Ds,size:ge,slice:$e,sliceBytes:$a,sliceHex:Qs,stringToBytes:Ye,stringToHex:kn,stringify:q,testActions:Mi,toBlobSidecars:Hn,toBlobs:jo,toBytes:ne,toEventHash:ea,toEventSelector:Tt,toEventSignature:Xt,toFunctionHash:ea,toFunctionSelector:It,toFunctionSignature:Xt,toHex:B,toPrefixedMessage:Rc,toRlp:ce,transactionType:wr,trim:le,universalSignatureValidatorAbi:$s,universalSignatureValidatorByteCode:Vo,validateTypedData:Ka,verifyHash:y0,verifyMessage:b0,verifyTypedData:g0,walletActions:Ri,webSocket:Hp,weiUnits:ju,withRetry:_n,withTimeout:$r,zeroAddress:oe,zeroHash:w0},Symbol.toStringTag,{value:"Module"}));var Kr={},ns={},Ni={},Cn={},$i={},Zt={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.getSDKVersion=void 0;const th=()=>"9.1.0";Yt.getSDKVersion=th;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.generateRequestId=void 0;const nh=e=>e.toString(16).padStart(2,"0"),sh=e=>{const t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,nh).join("")},rh=()=>typeof window<"u"?sh(10):new Date().getTime().toString(36);ss.generateRequestId=rh;Object.defineProperty(Zt,"__esModule",{value:!0});Zt.MessageFormatter=void 0;const ah=Yt,oh=ss;class rs{}Zt.MessageFormatter=rs;rs.makeRequest=(e,t)=>({id:(0,oh.generateRequestId)(),method:e,params:t,env:{sdkVersion:(0,ah.getSDKVersion)()}});rs.makeResponse=(e,t,n)=>({id:e,success:!0,version:n,data:t});rs.makeErrorResponse=(e,t,n)=>({id:e,success:!1,error:t,version:n});var ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.RestrictedMethods=ue.Methods=void 0;var Ea;(function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage",e.signTypedMessage="signTypedMessage",e.getEnvironmentInfo="getEnvironmentInfo",e.getOffChainSignature="getOffChainSignature",e.requestAddressBook="requestAddressBook",e.wallet_getPermissions="wallet_getPermissions",e.wallet_requestPermissions="wallet_requestPermissions"})(Ea||(ue.Methods=Ea={}));var Ta;(function(e){e.requestAddressBook="requestAddressBook"})(Ta||(ue.RestrictedMethods=Ta={}));(function(e){var t=G&&G.__createBinding||(Object.create?function(a,o,i,c){c===void 0&&(c=i);var u=Object.getOwnPropertyDescriptor(o,i);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(a,c,u)}:function(a,o,i,c){c===void 0&&(c=i),a[c]=o[i]}),n=G&&G.__exportStar||function(a,o){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,a,i)};Object.defineProperty(e,"__esModule",{value:!0});const s=Zt;class r{constructor(o=null,i=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:c,data:u,source:f})=>{const d=!u,l=!this.isServer&&f===window.parent,p=typeof u.version<"u"&&parseInt(u.version.split(".")[0]),h=typeof p=="number"&&p>=1;let m=!0;return Array.isArray(this.allowedOrigins)&&(m=this.allowedOrigins.find(y=>y.test(c))!==void 0),!d&&l&&h&&m},this.logIncomingMessage=c=>{console.info(`Safe Apps SDK v1: A message was received from origin ${c.origin}. `,c.data)},this.onParentMessage=c=>{this.isValidMessage(c)&&(this.debugMode&&this.logIncomingMessage(c),this.handleIncomingMessage(c.data))},this.handleIncomingMessage=c=>{const{id:u}=c,f=this.callbacks.get(u);f&&(f(c),this.callbacks.delete(u))},this.send=(c,u)=>{const f=s.MessageFormatter.makeRequest(c,u);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(f,"*"),new Promise((d,l)=>{this.callbacks.set(f.id,p=>{if(!p.success){l(new Error(p.error));return}d(p)})})},this.allowedOrigins=o,this.debugMode=i,this.isServer||window.addEventListener("message",this.onParentMessage)}}e.default=r,n(ue,e)})($i);var as={},os={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.isObjectEIP712TypedData=void 0;const ih=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;is.isObjectEIP712TypedData=ih;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});var Oi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransferDirection=e.TransactionStatus=e.TokenType=e.Operation=void 0;var t=Fc;Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return t.Operation}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return t.TokenType}}),Object.defineProperty(e,"TransactionStatus",{enumerable:!0,get:function(){return t.TransactionStatus}}),Object.defineProperty(e,"TransferDirection",{enumerable:!0,get:function(){return t.TransferDirection}})})(Oi);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});(function(e){var t=G&&G.__createBinding||(Object.create?function(s,r,a,o){o===void 0&&(o=a);var i=Object.getOwnPropertyDescriptor(r,a);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(s,o,i)}:function(s,r,a,o){o===void 0&&(o=a),s[o]=r[a]}),n=G&&G.__exportStar||function(s,r){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,s,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(is,e),n(Li,e),n(Oi,e),n(ji,e)})(os);Object.defineProperty(as,"__esModule",{value:!0});as.TXs=void 0;const on=ue,ch=os;class uh{constructor(t){this.communicator=t}async getBySafeTxHash(t){if(!t)throw new Error("Invalid safeTxHash");return(await this.communicator.send(on.Methods.getTxBySafeTxHash,{safeTxHash:t})).data}async signMessage(t){const n={message:t};return(await this.communicator.send(on.Methods.signMessage,n)).data}async signTypedMessage(t){if(!(0,ch.isObjectEIP712TypedData)(t))throw new Error("Invalid typed data");return(await this.communicator.send(on.Methods.signTypedMessage,{typedData:t})).data}async send({txs:t,params:n}){if(!t||!t.length)throw new Error("No transactions were passed");const s={txs:t,params:n};return(await this.communicator.send(on.Methods.sendTransactions,s)).data}}as.TXs=uh;var cs={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.RPC_CALLS=void 0;xt.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"};Object.defineProperty(cs,"__esModule",{value:!0});cs.Eth=void 0;const Q=xt,dh=ue,be={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};class fh{constructor(t){this.communicator=t,this.call=this.buildRequest({call:Q.RPC_CALLS.eth_call,formatters:[null,be.defaultBlockParam]}),this.getBalance=this.buildRequest({call:Q.RPC_CALLS.eth_getBalance,formatters:[null,be.defaultBlockParam]}),this.getCode=this.buildRequest({call:Q.RPC_CALLS.eth_getCode,formatters:[null,be.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:Q.RPC_CALLS.eth_getStorageAt,formatters:[null,be.blockNumberToHex,be.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:Q.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:Q.RPC_CALLS.eth_getBlockByHash,formatters:[null,be.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:Q.RPC_CALLS.eth_getBlockByNumber,formatters:[be.blockNumberToHex,be.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:Q.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:Q.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:Q.RPC_CALLS.eth_getTransactionCount,formatters:[null,be.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:Q.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=n=>this.buildRequest({call:Q.RPC_CALLS.eth_estimateGas})([n]),this.setSafeSettings=this.buildRequest({call:Q.RPC_CALLS.safe_setSettings})}buildRequest(t){const{call:n,formatters:s}=t;return async r=>{s&&Array.isArray(r)&&s.forEach((i,c)=>{i&&(r[c]=i(r[c]))});const a={call:n,params:r||[]};return(await this.communicator.send(dh.Methods.rpcCall,a)).data}}}cs.Eth=fh;var us={};const lh=nc(eh);var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.MAGIC_VALUE_BYTES=mt.MAGIC_VALUE=void 0;const ph="0x1626ba7e";mt.MAGIC_VALUE=ph;const hh="0x20c13b0b";mt.MAGIC_VALUE_BYTES=hh;var Jr={},Qt={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.PermissionsError=je.PERMISSIONS_REQUEST_REJECTED=void 0;je.PERMISSIONS_REQUEST_REJECTED=4001;class Zr extends Error{constructor(t,n,s){super(t),this.code=n,this.data=s,Object.setPrototypeOf(this,Zr.prototype)}}je.PermissionsError=Zr;Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Wallet=void 0;const Ps=ue,cn=je;class mh{constructor(t){this.communicator=t}async getPermissions(){return(await this.communicator.send(Ps.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(t){if(!this.isPermissionRequestValid(t))throw new cn.PermissionsError("Permissions request is invalid",cn.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(Ps.Methods.wallet_requestPermissions,t)).data}catch{throw new cn.PermissionsError("Permissions rejected",cn.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(t){return t.every(n=>typeof n=="object"?Object.keys(n).every(s=>!!Object.values(Ps.RestrictedMethods).includes(s)):!1)}}Qt.Wallet=mh;Object.defineProperty(Jr,"__esModule",{value:!0});const yh=Qt,Ia=je,_a=(e,t)=>t.some(n=>n.parentCapability===e),bh=()=>(e,t,n)=>{const s=n.value;return n.value=async function(){const r=new yh.Wallet(this.communicator);let a=await r.getPermissions();if(_a(t,a)||(a=await r.requestPermissions([{[t]:{}}])),!_a(t,a))throw new Ia.PermissionsError("Permissions rejected",Ia.PERMISSIONS_REQUEST_REJECTED);return s.apply(this)},n};Jr.default=bh;var gh=G&&G.__decorate||function(e,t,n,s){var r=arguments.length,a=r<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,s);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},wh=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(us,"__esModule",{value:!0});us.Safe=void 0;const un=lh,Aa=mt,Pe=ue,Ca=xt,vh=os,xh=wh(Jr);class Gi{constructor(t){this.communicator=t}async getChainInfo(){return(await this.communicator.send(Pe.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(Pe.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:t="usd"}={}){return(await this.communicator.send(Pe.Methods.getSafeBalances,{currency:t})).data}async check1271Signature(t,n="0x"){const s=await this.getInfo(),r=(0,un.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,n]}),a={call:Ca.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:r},"latest"]};try{return(await this.communicator.send(Pe.Methods.rpcCall,a)).data.slice(0,10).toLowerCase()===Aa.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(t,n="0x"){const s=await this.getInfo(),r=(0,un.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,n]}),a={call:Ca.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:r},"latest"]};try{return(await this.communicator.send(Pe.Methods.rpcCall,a)).data.slice(0,10).toLowerCase()===Aa.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(t){return(0,un.hashMessage)(t)}calculateTypedMessageHash(t){const n=typeof t.domain.chainId=="object"?t.domain.chainId.toNumber():Number(t.domain.chainId);let s=t.primaryType;if(!s){const r=Object.values(t.types),a=Object.keys(t.types).filter(o=>r.every(i=>i.every(({type:c})=>c.replace("[","").replace("]","")!==o)));if(a.length===0||a.length>1)throw new Error("Please specify primaryType");s=a[0]}return(0,un.hashTypedData)({message:t.message,domain:{...t.domain,chainId:n,verifyingContract:t.domain.verifyingContract,salt:t.domain.salt},types:t.types,primaryType:s})}async getOffChainSignature(t){return(await this.communicator.send(Pe.Methods.getOffChainSignature,t)).data}async isMessageSigned(t,n="0x"){let s;if(typeof t=="string"&&(s=async()=>{const r=this.calculateMessageHash(t);return await this.isMessageHashSigned(r,n)}),(0,vh.isObjectEIP712TypedData)(t)&&(s=async()=>{const r=this.calculateTypedMessageHash(t);return await this.isMessageHashSigned(r,n)}),s)return await s();throw new Error("Invalid message type")}async isMessageHashSigned(t,n="0x"){const s=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const r of s)if(await r(t,n))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(Pe.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(Pe.Methods.requestAddressBook,void 0)).data}}us.Safe=Gi;gh([(0,xh.default)()],Gi.prototype,"requestAddressBook",null);var Ph=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});const Eh=Ph($i),Th=as,Ih=cs,_h=us,Ah=Qt;class Ch{constructor(t={}){const{allowedDomains:n=null,debug:s=!1}=t;this.communicator=new Eh.default(n,s),this.eth=new Ih.Eth(this.communicator),this.txs=new Th.TXs(this.communicator),this.safe=new _h.Safe(this.communicator),this.wallet=new Ah.Wallet(this.communicator)}}Cn.default=Ch;(function(e){var t=G&&G.__createBinding||(Object.create?function(o,i,c,u){u===void 0&&(u=c);var f=Object.getOwnPropertyDescriptor(i,c);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[c]}}),Object.defineProperty(o,u,f)}:function(o,i,c,u){u===void 0&&(u=c),o[u]=i[c]}),n=G&&G.__exportStar||function(o,i){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(i,c)&&t(i,o,c)},s=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKVersion=void 0;const r=s(Cn);e.default=r.default,n(Cn,e),n(os,e),n(ue,e),n(Zt,e);var a=Yt;Object.defineProperty(e,"getSDKVersion",{enumerable:!0,get:function(){return a.getSDKVersion}}),n(xt,e)})(Ni);var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.numberToHex=yt.getLowerCase=void 0;function Sh(e){return e&&e.toLowerCase()}yt.getLowerCase=Sh;function Bh(e){return`0x${e.toString(16)}`}yt.numberToHex=Bh;Object.defineProperty(ns,"__esModule",{value:!0});ns.SafeAppProvider=void 0;const Ke=Ni,kh=sc,te=yt;class Mh extends kh.EventEmitter{constructor(t,n){super(),this.submittedTxs=new Map,this.safe=t,this.sdk=n}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(t){var r,a,o,i;const{method:n,params:s=[]}=t;switch(n){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,te.numberToHex)(this.chainId);case"personal_sign":{const[l,p]=s;if(this.safe.safeAddress.toLowerCase()!==p.toLowerCase())throw new Error("The address or message hash is invalid");const h=await this.sdk.txs.signMessage(l);return("signature"in h?h.signature:void 0)||"0x"}case"eth_sign":{const[l,p]=s;if(this.safe.safeAddress.toLowerCase()!==l.toLowerCase()||!p.startsWith("0x"))throw new Error("The address or message hash is invalid");const h=await this.sdk.txs.signMessage(p);return("signature"in h?h.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[l,p]=s,h=typeof p=="string"?JSON.parse(p):p;if(this.safe.safeAddress.toLowerCase()!==l.toLowerCase())throw new Error("The address is invalid");const m=await this.sdk.txs.signTypedMessage(h);return("signature"in m?m.signature:void 0)||"0x"}case"eth_sendTransaction":const c={...s[0],value:s[0].value||"0",data:s[0].data||"0x"};typeof c.gas=="string"&&c.gas.startsWith("0x")&&(c.gas=parseInt(c.gas,16));const u=await this.sdk.txs.send({txs:[c],params:{safeTxGas:c.gas}});return this.submittedTxs.set(u.safeTxHash,{from:this.safe.safeAddress,hash:u.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:c.data,value:c.value,to:c.to,blockHash:null,blockNumber:null,transactionIndex:null}),u.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,te.getLowerCase)(s[0]),s[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,te.getLowerCase)(s[0]),s[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,te.getLowerCase)(s[0]),s[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,te.getLowerCase)(s[0]),s[1],s[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([s[0],s[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([s[0],s[1]]);case"eth_getTransactionByHash":let d=s[0];try{d=(await this.sdk.txs.getBySafeTxHash(d)).txHash||d}catch{}return this.submittedTxs.has(d)?this.submittedTxs.get(d):this.sdk.eth.getTransactionByHash([d]).then(l=>(l&&(l.hash=s[0]),l));case"eth_getTransactionReceipt":{let l=s[0];try{l=(await this.sdk.txs.getBySafeTxHash(l)).txHash||l}catch{}return this.sdk.eth.getTransactionReceipt([l]).then(p=>(p&&(p.transactionHash=s[0]),p))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(s[0]);case"eth_call":return this.sdk.eth.call([s[0],s[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([s[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(s[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([s[0]]);case"wallet_sendCalls":{const{from:l,calls:p,chainId:h}=s[0];if(h!==(0,te.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${h}`);if(l!==this.safe.safeAddress)throw Error("Invalid from address");const m=p.map((g,w)=>{if(!g.to)throw new Error(`Invalid call #${w}: missing "to" field`);return{to:g.to,data:g.data??"0x",value:g.value??(0,te.numberToHex)(0)}}),{safeTxHash:y}=await this.sdk.txs.send({txs:m});return{id:y}}case"wallet_getCallsStatus":{const l=s[0],p={[Ke.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[Ke.TransactionStatus.AWAITING_EXECUTION]:100,[Ke.TransactionStatus.SUCCESS]:200,[Ke.TransactionStatus.CANCELLED]:400,[Ke.TransactionStatus.FAILED]:500},h=await this.sdk.txs.getBySafeTxHash(l),m={version:"1.0",id:l,chainId:(0,te.numberToHex)(this.chainId),status:p[h.txStatus]};if(!h.txHash)return m;const y=await this.sdk.eth.getTransactionReceipt([h.txHash]);if(!y)return m;const b=((a=(r=h.txData)==null?void 0:r.dataDecoded)==null?void 0:a.method)!=="multiSend"?1:((i=(o=h.txData.dataDecoded.parameters)==null?void 0:o[0].valueDecoded)==null?void 0:i.length)??1,g=Number(y.blockNumber),w=Number(y.gasUsed);return m.receipts=Array(b).fill({logs:y.logs,status:(0,te.numberToHex)(h.txStatus===Ke.TransactionStatus.SUCCESS?1:0),blockHash:y.blockHash,blockNumber:(0,te.numberToHex)(g),gasUsed:(0,te.numberToHex)(w),transactionHash:h.txHash}),m}case"wallet_showCallsStatus":throw new Error(`"${t.method}" not supported`);case"wallet_getCapabilities":return{[(0,te.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${t.method}" not implemented`)}}send(t,n){t||n("Undefined request"),this.request(t).then(s=>n(null,{jsonrpc:"2.0",id:t.id,result:s})).catch(s=>n(s,null))}}ns.SafeAppProvider=Mh;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeAppProvider=void 0;var t=ns;Object.defineProperty(e,"SafeAppProvider",{enumerable:!0,get:function(){return t.SafeAppProvider}})})(Kr);const Rh=rc(Kr),qh=Uc({__proto__:null,default:Rh},[Kr]);export{qh as i};
