import{k as I}from"./sha3-DG6CBcqs.js";import{s as H}from"./_shortw_utils-DTLadjFC.js";const M="0.1.1";function U(){return M}class o extends Error{constructor(t,r={}){const n=(()=>{var a;if(r.cause instanceof o){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return(a=r.cause)!=null&&a.message?r.cause.message:r.details})(),i=r.cause instanceof o&&r.cause.docsPath||r.docsPath,u=`https://oxlib.sh${i??""}`,f=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${u}`:void 0]:[]].filter(a=>typeof a=="string").join(`
`);super(f,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${U()}`}),this.cause=r.cause,this.details=n,this.docs=u,this.docsPath=i,this.shortMessage=t}walk(t){return p(this,t)}}function p(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?p(e.cause,t):t?null:e}const T="#__bigint";function z(e,t,r){return JSON.stringify(e,(n,i)=>typeof i=="bigint"?i.toString()+T:i,r)}function E(e,t){if(b(e)>t)throw new Q({givenSize:b(e),maxSize:t})}function R(e,t){if(typeof t=="number"&&t>0&&t>b(e)-1)throw new j({offset:t,position:"start",size:b(e)})}function V(e,t,r){if(typeof t=="number"&&typeof r=="number"&&b(e)!==r-t)throw new j({offset:r,position:"end",size:b(e)})}const c={zero:48,nine:57,A:65,F:70,a:97,f:102};function x(e){if(e>=c.zero&&e<=c.nine)return e-c.zero;if(e>=c.A&&e<=c.F)return e-(c.A-10);if(e>=c.a&&e<=c.f)return e-(c.a-10)}function _(e,t={}){const{dir:r,size:n=32}=t;if(n===0)return e;if(e.length>n)throw new Z({size:e.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const u=r==="right";i[u?s:n-s-1]=e[u?s:e.length-s-1]}return i}function h(e,t){if(g(e)>t)throw new q({givenSize:g(e),maxSize:t})}function k(e,t){if(typeof t=="number"&&t>0&&t>g(e)-1)throw new P({offset:t,position:"start",size:g(e)})}function v(e,t,r){if(typeof t=="number"&&typeof r=="number"&&g(e)!==r-t)throw new P({offset:r,position:"end",size:g(e)})}function S(e,t={}){const{dir:r,size:n=32}=t;if(n===0)return e;const i=e.replace("0x","");if(i.length>n*2)throw new Y({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const C=new TextEncoder,N=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function L(e,t={}){const{strict:r=!1}=t;if(!e)throw new $(e);if(typeof e!="string")throw new $(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new w(e);if(!e.startsWith("0x"))throw new w(e)}function re(...e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function ne(e){return e instanceof Uint8Array?l(e):Array.isArray(e)?l(new Uint8Array(e)):e}function ie(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(h(r,t.size),O(r,t.size)):r}function l(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=N[e[i]];const n=`0x${r}`;return typeof t.size=="number"?(h(n,t.size),B(n,t.size)):n}function se(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const u=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<u){const d=typeof e=="bigint"?"n":"";throw new G({max:s?`${s}${d}`:void 0,min:`${u}${d}`,signed:r,size:n,value:`${e}${d}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?O(a,n):a}function oe(e,t={}){return l(C.encode(e),t)}function O(e,t){return S(e,{dir:"left",size:t})}function B(e,t){return S(e,{dir:"right",size:t})}function ue(e,t,r,n={}){const{strict:i}=n;k(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&v(s,t,r),s}function g(e){return Math.ceil((e.length-2)/2)}function F(e,t={}){const{signed:r}=t;t.size&&h(e,t.size);const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,u=s>>1n;return n<=u?n:n-s-1n}function ae(e,t={}){const{strict:r=!1}=t;try{return L(e,{strict:r}),!0}catch{return!1}}class G extends o{constructor({max:t,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${t?`(\`${r}\` to \`${t}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class $ extends o{constructor(t){super(`Value \`${typeof t=="object"?z(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class w extends o{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let q=class extends o{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},P=class extends o{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Y=class extends o{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const D=new TextEncoder;function J(e){if(!(e instanceof Uint8Array)){if(!e)throw new y(e);if(typeof e!="object")throw new y(e);if(!("BYTES_PER_ELEMENT"in e))throw new y(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new y(e)}}function A(e){return e instanceof Uint8Array?e:typeof e=="string"?X(e):W(e)}function W(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function X(e,t={}){const{size:r}=t;let n=e;r&&(h(e,r),n=B(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,u=new Uint8Array(s);for(let f=0,a=0;f<s;f++){const d=x(i.charCodeAt(a++)),m=x(i.charCodeAt(a++));if(d===void 0||m===void 0)throw new o(`Invalid byte sequence ("${i[a-2]}${i[a-1]}" in "${i}").`);u[f]=d*16+m}return u}function le(e,t={}){const{size:r}=t,n=D.encode(e);return typeof r=="number"?(E(n,r),K(n,r)):n}function K(e,t){return _(e,{dir:"right",size:t})}function b(e){return e.length}function ge(e,t,r,n={}){const{strict:i}=n;R(e,t);const s=e.slice(t,r);return i&&V(s,t,r),s}function be(e,t={}){const{size:r}=t;typeof r<"u"&&E(e,r);const n=l(e,t);return F(n,t)}function ye(e){try{return J(e),!0}catch{return!1}}class y extends o{constructor(t){super(`Value \`${typeof t=="object"?z(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class Q extends o{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class j extends o{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class Z extends o{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function he(e,t={}){const{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=I(A(e));return r==="Bytes"?n:l(n)}function me(e,t={}){const{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=H(A(e));return r==="Bytes"?n:l(n)}const xe=/^(.*)\[([0-9]*)\]$/,$e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,we=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,pe=2n**256n-1n;export{o as B,G as I,ye as a,ue as b,re as c,l as d,g as e,se as f,ne as g,X as h,me as i,oe as j,A as k,ge as l,pe as m,W as n,he as o,le as p,we as q,O as r,z as s,be as t,ie as u,ae as v,B as w,$e as x,xe as y};
